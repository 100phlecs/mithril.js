new function(){function r(c,f,n,g,k,h){return{tag:c,key:f,attrs:n,children:g,text:k,dom:h,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1}}function v(c){if(null==c||"string"!==typeof c&&null==c.view)throw Error("The selector must be either a string or a component.");if("string"===typeof c&&void 0===K[c]){for(var f,n,g=[],k={};f=R.exec(c);){var h=f[1],y=f[2];""===h&&""!==y?n=y:"#"===h?k.id=y:"."===h?g.push(y):"["===f[3][0]&&((h=f[6])&&(h=h.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),
k[f[4]]=h||!0)}0<g.length&&(k.className=g.join(" "));K[c]=function(c,e){var f=!1,m,g,h=c.className||c["class"],t;for(t in k)c[t]=k[t];void 0!==h&&(void 0!==c["class"]&&(c["class"]=void 0,c.className=h),void 0!==k.className&&(c.className=k.className+" "+h));for(t in c)if("key"!==t){f=!0;break}e instanceof Array&&1==e.length&&null!=e[0]&&"#"===e[0].tag?g=e[0].children:m=e;return r(n||"div",c.key,f?c:void 0,m,g,void 0)}}var A;null!=arguments[1]&&("object"!==typeof arguments[1]||void 0!==arguments[1].tag||
arguments[1]instanceof Array)?g=1:(A=arguments[1],g=2);if(arguments.length===g+1)f=arguments[g]instanceof Array?arguments[g]:[arguments[g]];else for(f=[];g<arguments.length;g++)f.push(arguments[g]);return"string"===typeof c?K[c](A||{},r.normalizeChildren(f)):r(c,A&&A.key,A||{},r.normalizeChildren(f),void 0,void 0)}r.normalize=function(c){return c instanceof Array?r("[",void 0,void 0,r.normalizeChildren(c),void 0,void 0):null!=c&&"object"!==typeof c?r("#",void 0,void 0,c,void 0,void 0):c};r.normalizeChildren=
function(c){for(var f=0;f<c.length;f++)c[f]=r.normalize(c[f]);return c};var R=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,K={};v.trust=function(c){null==c&&(c="");return r("<",void 0,void 0,c,void 0,void 0)};v.fragment=function(c,f){return r("[",c.key,c,r.normalizeChildren(f),void 0,void 0)};var P=function(c){function f(){function a(){0<arguments.length&&arguments[0]!==p&&g(a,arguments[0],void 0);return a._state.value}n(a);0<arguments.length&&arguments[0]!==p&&g(a,
arguments[0],void 0);return a}function n(a){a.constructor=f;a._state={id:x++,value:void 0,error:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],errorStream:void 0,endStream:void 0};a["fantasy-land/map"]=r;a["fantasy-land/ap"]=v;a["fantasy-land/of"]=f;a.valueOf=H;a.toJSON=C;a.toString=H;a.run=w;a["catch"]=m;Object.defineProperties(a,{error:{get:function(){if(!a._state.errorStream){var b=function(){0<arguments.length&&arguments[0]!==p&&g(a,void 0,arguments[0]);return a._state.error};
n(b);t(b,[a],z,z);a._state.errorStream=b}return a._state.errorStream}},end:{get:function(){if(!a._state.endStream){var b=f();b["fantasy-land/map"](function(d){!0===d&&(D(a),D(b));return d});a._state.endStream=b}return a._state.endStream}}})}function g(a,b,d){k(a,b,d);for(var l in a._state.deps)y(a._state.deps[l],!1);a._state.changed=!1;for(var e in a._state.deps)a._state.deps[e]._state.changed=!1}function k(a,b,d){d=q(b,d);if(void 0!==d&&"function"===typeof a._state.recover){if(!A(a,h,!0))return}else h(a,
b,d);a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function h(a,b,d){a._state.value=b;a._state.error=d}function y(b,e){var l=b._state.parents;0<l.length&&l.filter(F).length===l.length&&(e||0<l.filter(a).length)&&(l=l.filter(d),0<l.length?k(b,void 0,l[0]._state.error):A(b,k,!1))}function A(a,b,d){try{var l=d?a._state.recover():a._state.derive();if(l===p)return!1;b(a,l,void 0)}catch(E){b(a,void 0,null!=E.__error?E.__error:E),null==E.__error&&e(a,E)}return!0}function q(a,b){null!=a&&a.constructor===
f&&(b=void 0!==a._state.error?a._state.error:q(a._state.value,a._state.error));return b}function e(a,b){0===Object.keys(a._state.deps).length&&setTimeout(function(){0===Object.keys(a._state.deps).length&&c(b)},0)}function w(a){var b=f(),d=this;return t(b,[d],function(){return u(b,a(d()))},void 0)}function m(a){var b=f(),d=this;return t(b,[d],function(){return d._state.value},function(){return u(b,a(d._state.error))})}function B(b,e){if(e.length>e.filter(I).length)throw Error("Ensure that each item passed to m.prop.combine/m.prop.merge is a stream");
return t(f(),e,function(){var l=e.filter(d);if(0<l.length)throw{__error:l[0]._state.error};return b.apply(this,e.concat([e.filter(a)]))},void 0)}function u(a,b){if(null!=b&&b.constructor===f){var d=b,e=function(){k(a,d._state.value,d._state.error);for(var b in a._state.deps)y(a._state.deps[b],!1)};d["fantasy-land/map"](e)["catch"](function(a){e();throw{__error:a};});if(0===d._state.state)return p;if(d._state.error)throw{__error:d._state.error};b=d._state.value}return b}function t(a,d,e,c){var l=a._state;
l.derive=e;l.recover=c;l.parents=d.filter(b);G(a,l.parents);y(a,!0);return a}function G(a,b){for(var d=0;d<b.length;d++)b[d]._state.deps[a._state.id]=a,G(a,b[d]._state.parents)}function D(a){for(var b=0;b<a._state.parents.length;b++)delete a._state.parents[b]._state.deps[a._state.id];for(var d in a._state.deps){var b=a._state.deps[d],e=b._state.parents.indexOf(a);-1<e&&b._state.parents.splice(e,1)}a._state.state=2;a._state.deps={}}function r(a){return B(function(b){return a(b())},[this])}function v(a){return B(function(a,
b){return a()(b())},[a,this])}function H(){return this._state.value}function C(){return null!=this._state.value&&"function"===typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function I(a){return a._state}function F(a){return 1===a._state.state}function a(a){return a._state.changed}function b(a){return 2!==a._state.state}function d(a){return a._state.error}var x=0,z=function(){},p={};f["fantasy-land/of"]=f;f.merge=function(a){return B(function(){return a.map(function(a){return a()})},
a)};f.combine=B;f.reject=function(a){var b=f();b.error(a);return b};f.HALT=p;return f}(console.log.bind(console)),J=function(c){function f(c,h){if(h instanceof Array)for(var g=0;g<h.length;g++)f(c+"["+g+"]",h[g]);else if("[object Object]"===Object.prototype.toString.call(h))for(g in h)f(c+"["+g+"]",h[g]);else n.push(encodeURIComponent(c)+(null!=h&&""!==h?"="+encodeURIComponent(h):""))}if("[object Object]"!==Object.prototype.toString.call(c))return"";var n=[],g;for(g in c)f(g,c[g]);return n.join("&")},
L=function(c,f){function n(e,c){if(null==c)return e;for(var f=e.match(/:[^\/]+/gi)||[],g=0;g<f.length;g++){var w=f[g].slice(1);null!=c[w]&&(e=e.replace(f[g],c[w]),delete c[w])}return e}function g(e,c){var f=J(c);if(""!==f){var g=0>e.indexOf("?")?"?":"&";e+=g+f}return e}function k(e){try{return""!==e?JSON.parse(e):null}catch(w){throw Error(e);}}function h(e){return e.responseText}function y(e,c){if("function"===typeof e)if(c instanceof Array)for(var f=0;f<c.length;f++)c[f]=new e(c[f]);else return new e(c);
return c}var A=0,q;return{request:function(e,w){if("string"===typeof e){var m=e;e="object"===typeof w?w:{};"undefined"===typeof e.url&&(e.url=m)}"undefined"===typeof e.method&&(e.method="GET");var B=f();void 0!==e.initialValue&&B(e.initialValue);e.method=e.method.toUpperCase();m="boolean"===typeof e.useBody?e.useBody:"GET"!==e.method&&"TRACE"!==e.method;"function"!==typeof e.serialize&&(e.serialize="undefined"!==typeof FormData&&e.data instanceof FormData?function(e){return e}:JSON.stringify);"function"!==
typeof e.deserialize&&(e.deserialize=k);"function"!==typeof e.extract&&(e.extract=h);e.url=n(e.url,e.data);m?e.data=e.serialize(e.data):e.url=g(e.url,e.data);var u=new c.XMLHttpRequest;u.open(e.method,e.url,"boolean"===typeof e.async?e.async:!0,"string"===typeof e.user?e.user:void 0,"string"===typeof e.password?e.password:void 0);e.serialize===JSON.stringify&&m&&u.setRequestHeader("Content-Type","application/json; charset=utf-8");e.deserialize===k&&u.setRequestHeader("Accept","application/json, text/*");
"function"===typeof e.config&&(u=e.config(u,e)||u);u.onreadystatechange=function(){if(4===u.readyState){try{var c=e.extract!==h?e.extract(u,e):e.deserialize(e.extract(u,e));if(200<=u.status&&300>u.status||304===u.status)B(y(e.type,c));else{var f=Error(u.responseText),g;for(g in c)f[g]=c[g];B.error(f)}}catch(S){B.error(S)}"function"===typeof q&&q()}};m&&null!=e.data?u.send(e.data):u.send();return B},jsonp:function(e){var h=f();void 0!==e.initialValue&&h(e.initialValue);var m=e.callbackName||"_mithril_"+
Math.round(1E16*Math.random())+"_"+A++,k=c.document.createElement("script");c[m]=function(f){k.parentNode.removeChild(k);h(y(e.type,f));"function"===typeof q&&q();delete c[m]};k.onerror=function(){k.parentNode.removeChild(k);h.error(Error("JSONP request failed"));"function"===typeof q&&q();delete c[m]};null==e.data&&(e.data={});e.url=n(e.url,e.data);e.data[e.callbackKey||"callback"]=m;k.src=g(e.url,e.data);c.document.documentElement.appendChild(k);return h},setCompletionCallback:function(e){q=e}}}(window,
P),M=function(){var c=[];return{subscribe:c.push.bind(c),unsubscribe:function(f){f=c.indexOf(f);-1<f&&c.splice(f,1)},publish:function(){for(var f=0;f<c.length;f++)c[f].apply(this,arguments)}}}();L.setCompletionCallback(M.publish);var Q=function(c){function f(a,b,d,e,c,f,g){for(;d<e;d++){var l=b[d];null!=l&&q(a,n(l,c,g),f)}}function n(a,b,d){var c=a.tag;null!=a.attrs&&v(a.attrs,a,b);if("string"===typeof c)switch(c){case "#":return a.dom=C.createTextNode(a.children);case "<":return g(a);case "[":var h=
C.createDocumentFragment();null!=a.children&&(c=a.children,f(h,c,0,c.length,b,null,d));a.dom=h.firstChild;a.domSize=h.childNodes.length;return h;default:var p=a.tag;switch(a.tag){case "svg":d="http://www.w3.org/2000/svg";break;case "math":d="http://www.w3.org/1998/Math/MathML"}var l=(c=a.attrs)&&c.is,p=d?l?C.createElementNS(d,p,{is:l}):C.createElementNS(d,p):l?C.createElement(p,{is:l}):C.createElement(p);a.dom=p;if(null!=c)for(h in l=d,c)t(a,h,null,c[h],l);null!=a.attrs&&null!=a.attrs.contenteditable?
e(a):(null!=a.text&&(""!==a.text?p.textContent=a.text:a.children=[r("#",void 0,void 0,a.text,void 0,void 0)]),null!=a.children&&(h=a.children,f(p,h,0,h.length,b,null,d),b=a.attrs,"select"===a.tag&&null!=b&&("value"in b&&t(a,"value",null,b.value,void 0),"selectedIndex"in b&&t(a,"selectedIndex",null,b.selectedIndex,void 0))));return p}else{a.state||(a.state={});H(a.state,a.tag);h=a.tag.view;if(null!=h.reentrantLock)a=I;else if(h.reentrantLock=!0,v(a.tag,a,b),a.instance=r.normalize(h.call(a.state,a)),
h.reentrantLock=null,null!=a.instance){if(a.instance===a)throw Error("A view cannot return the vnode it received as arguments");b=n(a.instance,b,d);a.dom=a.instance.dom;a.domSize=null!=a.dom?a.instance.domSize:0;a=b}else a.domSize=0,a=I;return a}}function g(a){var b={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(a.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",b=C.createElement(b);b.innerHTML=a.children;a.dom=b.firstChild;a.domSize=
b.childNodes.length;a=C.createDocumentFragment();for(var d;d=b.firstChild;)a.appendChild(d);return a}function k(a,b,d,c,e,g){if(b!==d&&(null!=b||null!=d))if(null==b)f(a,d,0,d.length,c,e,void 0);else if(null==d)w(b,0,b.length,d);else{var l;a:{if(null!=b.pool&&Math.abs(b.pool.length-d.length)<=Math.abs(b.length-d.length)&&(l=d[0]&&d[0].children&&d[0].children.length||0,Math.abs((b.pool[0]&&b.pool[0].children&&b.pool[0].children.length||0)-l)<=Math.abs((b[0]&&b[0].children&&b[0].children.length||0)-
l))){l=!0;break a}l=!1}l&&(b=b.concat(b.pool));if(b.length===d.length&&null!=d[0]&&null==d[0].key)for(var p=0;p<b.length;p++)b[p]===d[p]||null==b[p]&&null==d[p]||(null==b[p]?q(a,n(d[p],c,g),A(b,p+1,e)):null==d[p]?w(b,p,p+1,d):h(a,b[p],d[p],c,A(b,p+1,e),l,g),l&&b[p].tag===d[p].tag&&q(a,y(b[p]),A(b,p+1,e)));else{for(var m=p=0,k=b.length-1,x=d.length-1,u;k>=p&&x>=m;){var t=b[p],z=d[m];if(t!==z||l)if(null!=t&&null!=z&&t.key===z.key)p++,m++,h(a,t,z,c,A(b,p,e),l,g),l&&t.tag===z.tag&&q(a,y(t),e);else if(t=
b[k],t!==z||l)if(null!=t&&null!=z&&t.key===z.key)h(a,t,z,c,A(b,k+1,e),l,g),(l||m<x)&&q(a,y(t),A(b,p,e)),k--,m++;else break;else k--,m++;else p++,m++}for(;k>=p&&x>=m;){t=b[k];z=d[x];if(t!==z||l)if(null!=t&&null!=z&&t.key===z.key)h(a,t,z,c,A(b,k+1,e),l,g),l&&t.tag===z.tag&&q(a,y(t),e),null!=t.dom&&(e=t.dom),k--;else{if(!u){u=b;var t=k,r={},B;for(B=0;B<t;B++){var v=u[B];null!=v&&(v=v.key,null!=v&&(r[v]=B))}u=r}null!=z&&(t=u[z.key],null!=t?(r=b[t],h(a,r,z,c,A(b,k+1,e),l,g),q(a,y(r),e),b[t].skip=!0,null!=
r.dom&&(e=r.dom)):(z=n(z,c,void 0),q(a,z,e),e=z))}else k--;x--;if(x<m)break}f(a,d,m,x+1,c,e,g);w(b,p,k+1,d)}}}function h(a,b,d,c,f,p,l){var m=b.tag;if(m===d.tag){d.state=b.state;d.events=b.events;var w;var u;null!=d.attrs&&"function"===typeof d.attrs.onbeforeupdate&&(w=d.attrs.onbeforeupdate.call(d.state,d,b));"string"!==typeof d.tag&&"function"===typeof d.tag.onbeforeupdate&&(u=d.tag.onbeforeupdate.call(d.state,d,b));void 0===w&&void 0===u||w||u?w=!1:(d.dom=b.dom,d.domSize=b.domSize,d.instance=b.instance,
w=!0);if(!w)if(null!=d.attrs&&O(d.attrs,d,c,p),"string"===typeof m)switch(m){case "#":b.children.toString()!==d.children.toString()&&(b.dom.nodeValue=d.children);d.dom=b.dom;break;case "<":b.children!==d.children?(y(b),q(a,g(d),f)):(d.dom=b.dom,d.domSize=b.domSize);break;case "[":k(a,b.children,d.children,c,f,l);b=0;c=d.children;d.dom=null;if(null!=c){for(var x=0;x<c.length;x++)a=c[x],null!=a&&null!=a.dom&&(null==d.dom&&(d.dom=a.dom),b+=a.domSize||1);1!==b&&(d.domSize=b)}break;default:a=l;f=d.dom=
b.dom;switch(d.tag){case "svg":a="http://www.w3.org/2000/svg";break;case "math":a="http://www.w3.org/1998/Math/MathML"}"textarea"===d.tag&&(null==d.attrs&&(d.attrs={}),null!=d.text&&(d.attrs.value=d.text,d.text=void 0));p=b.attrs;l=d.attrs;m=a;if(null!=l)for(x in l)t(d,x,p&&p[x],l[x],m);if(null!=p)for(x in p)null!=l&&x in l||("className"===x&&(x="class"),"o"!==x[0]||"n"!==x[1]||G(x)?"key"!==x&&d.dom.removeAttribute(x):D(d,x,void 0));null!=d.attrs&&null!=d.attrs.contenteditable?e(d):null!=b.text&&
null!=d.text&&""!==d.text?b.text.toString()!==d.text.toString()&&(b.dom.firstChild.nodeValue=d.text):(null!=b.text&&(b.children=[r("#",void 0,void 0,b.text,void 0,b.dom.firstChild)]),null!=d.text&&(d.children=[r("#",void 0,void 0,d.text,void 0,void 0)]),k(f,b.children,d.children,c,null,a))}else d.instance=r.normalize(d.tag.view.call(d.state,d)),O(d.tag,d,c,p),null!=d.instance?(null==b.instance?q(a,n(d.instance,c,l),f):h(a,b.instance,d.instance,c,f,p,l),d.dom=d.instance.dom,d.domSize=d.instance.domSize):
null!=b.instance?(B(b.instance,null),d.dom=void 0,d.domSize=0):(d.dom=b.dom,d.domSize=b.domSize)}else B(b,null),q(a,n(d,c,l),f)}function y(a){var b=a.domSize;if(null!=b||null==a.dom){var d=C.createDocumentFragment();if(0<b){for(a=a.dom;--b;)d.appendChild(a.nextSibling);d.insertBefore(a,d.firstChild)}return d}return a.dom}function A(a,b,d){for(;b<a.length;b++)if(null!=a[b]&&null!=a[b].dom)return a[b].dom;return d}function q(a,b,d){d&&d.parentNode?a.insertBefore(b,d):a.appendChild(b)}function e(a){var b=
a.children;if(null!=b&&1===b.length&&"<"===b[0].tag)b=b[0].children,a.dom.innerHTML!==b&&(a.dom.innerHTML=b);else if(null!=b||null!=a.text)throw Error("Child node of a contenteditable must be trusted");}function w(a,b,d,c){for(;b<d;b++){var e=a[b];null!=e&&(e.skip?e.skip=!1:B(e,c))}}function m(a){var b=!1;return function(){b||(b=!0,a())}}function B(a,b){function d(){if(++e===c&&(u(a),a.dom)){var d=a.domSize||1;if(1<d)for(var f=a.dom;--d;){var g=f.nextSibling,h=g.parentNode;null!=h&&h.removeChild(g)}d=
a.dom;f=d.parentNode;null!=f&&f.removeChild(d);if(d=null!=b&&null==a.domSize)d=a.attrs,d=!(null!=d&&(d.oncreate||d.onupdate||d.onbeforeremove||d.onremove));d&&"string"===typeof a.tag&&(b.pool?b.pool.push(a):b.pool=[a])}}var c=1,e=0;a.attrs&&a.attrs.onbeforeremove&&(c++,a.attrs.onbeforeremove.call(a.state,a,m(d)));"string"!==typeof a.tag&&a.tag.onbeforeremove&&(c++,a.tag.onbeforeremove.call(a.state,a,m(d)));d()}function u(a){a.attrs&&a.attrs.onremove&&a.attrs.onremove.call(a.state,a);"string"!==typeof a.tag&&
a.tag.onremove&&a.tag.onremove.call(a.state,a);if(null!=a.instance)u(a.instance);else if(a=a.children,a instanceof Array)for(var b=0;b<a.length;b++){var d=a[b];null!=d&&u(d)}}function t(a,b,d,c,e){var f=a.dom;if("key"!==b&&(d!==c||"value"===b||"checked"===b||"selectedIndex"===b||"selected"===b&&a.dom===C.activeElement||"object"===typeof c)&&"undefined"!==typeof c&&!G(b)){var g=b.indexOf(":");if(-1<g&&"xlink"===b.substr(0,g))f.setAttributeNS("http://www.w3.org/1999/xlink",b.slice(g+1),c);else if("o"===
b[0]&&"n"===b[1]&&"function"===typeof c)D(a,b,c);else if("style"===b)if(a=d,a===c&&(f.style.cssText="",a=null),null==c)f.style.cssText="";else if("string"===typeof c)f.style.cssText=c;else{"string"===typeof a&&(f.style.cssText="");for(var h in c)f.style[h]=c[h];if(null!=a&&"string"!==typeof a)for(h in a)h in c||(f.style[h]="")}else if(b in f&&"href"!==b&&"list"!==b&&"form"!==b&&"width"!==b&&"height"!==b&&void 0===e){if("input"!==a.tag||"value"!==b||a.dom.value!==c||a.dom!==C.activeElement)f[b]=c}else"boolean"===
typeof c?c?f.setAttribute(b,""):f.removeAttribute(b):f.setAttribute("className"===b?"class":b,c)}}function G(a){return"oninit"===a||"oncreate"===a||"onupdate"===a||"onremove"===a||"onbeforeremove"===a||"onbeforeupdate"===a}function D(a,b,d){var c=a.dom,e=function(a){var b=d.call(c,a);"function"===typeof F&&F.call(c,a);return b};if(b in c)c[b]="function"===typeof d?e:null;else{var f=b.slice(2);void 0===a.events&&(a.events={});null!=a.events[b]&&c.removeEventListener(f,a.events[b],!1);"function"===
typeof d&&(a.events[b]=e,c.addEventListener(f,a.events[b],!1))}}function v(a,b,d){"function"===typeof a.oninit&&a.oninit.call(b.state,b);"function"===typeof a.oncreate&&d.push(a.oncreate.bind(b.state,b))}function O(a,b,d,c){c?v(a,b,d):"function"===typeof a.onupdate&&d.push(a.onupdate.bind(b.state,b))}function H(a,b){Object.keys(b).forEach(function(d){a[d]=b[d]})}var C=c.document,I=C.createDocumentFragment(),F;return{render:function(a,b){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");
var d=[],c=C.activeElement;null==a.vnodes&&(a.textContent="");b instanceof Array||(b=[b]);k(a,a.vnodes,r.normalizeChildren(b),d,null,void 0);a.vnodes=b;for(var e=0;e<d.length;e++)d[e]();C.activeElement!==c&&c.focus()},setEventCallback:function(a){return F=a}}}(window),T=function(c){var f=0,n=null,g="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(k){var h=Date.now();!0===k||0===f||16<=h-f?(f=h,c()):null===n&&(n=g(function(){n=null;c();f=Date.now()},16-(h-
f)))}},U=function(c,f,n,g){g=T(g);null!=f&&f.setEventCallback(function(c){!1!==c.redraw&&n.publish()});null!=n&&(c.redraw&&n.unsubscribe(c.redraw),n.subscribe(g));return c.redraw=g};v.mount=function(c,f){return function(n,g){if(null===g)c.render(n,[]),f.unsubscribe(n.redraw),delete n.redraw;else{if(null==g.view)throw Error("m.mount(element, component) expects a component, not a vnode");U(n,c,f,function(){c.render(n,r(g,void 0,void 0,void 0,void 0,void 0))})()}}}(Q,M);var N=function(c){if(""===c||
null==c)return{};"?"===c.charAt(0)&&(c=c.slice(1));c=c.split("&");for(var f={},n={},g=0;g<c.length;g++){var k=c[g].split("="),h=decodeURIComponent(k[0]),k=2===k.length?decodeURIComponent(k[1]):"";"true"===k?k=!0:"false"===k&&(k=!1);var y=h.split(/\]\[?|\[/),r=f;-1<h.indexOf("[")&&y.pop();for(var q=0;q<y.length;q++){var h=y[q],e=y[q+1],e=""==e||!isNaN(parseInt(e,10)),w=q===y.length-1;""===h&&(h=y.slice(0,q).join(),null==n[h]&&(n[h]=0),h=n[h]++);null==r[h]&&(r[h]=w?k:e?[]:{});r=r[h]}}return f},V=function(c){function f(e){var f=
c.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===e&&"/"!==f[0]&&(f="/"+f);return f}function n(c){return function(){null==e&&(e=v(function(){e=null;c()}))}}function g(c,e,f){var g=c.indexOf("?"),h=c.indexOf("#"),k=-1<g?g:-1<h?h:c.length;if(-1<g){var g=N(c.slice(g+1,-1<h?h:c.length)),m;for(m in g)e[m]=g[m]}if(-1<h)for(m in e=N(c.slice(h+1)),e)f[m]=e[m];return c.slice(0,k)}function k(){switch(q.charAt(0)){case "#":return f("hash").slice(q.length);case "?":return f("search").slice(q.length)+
f("hash");default:return f("pathname").slice(q.length)+f("search")+f("hash")}}function h(e,f,h){var k={},m={};e=g(e,k,m);if(null!=f){for(var n in f)k[n]=f[n];e=e.replace(/:([^\/]+)/g,function(c,e){delete k[e];return f[e]})}(n=J(k))&&(e+="?"+n);(m=J(m))&&(e+="#"+m);r?(h&&h.replace?c.history.replaceState(null,null,q+e):c.history.pushState(null,null,q+e),c.onpopstate()):c.location.href=q+e}var r="function"===typeof c.history.pushState,v="function"===typeof setImmediate?setImmediate:setTimeout,q="#!",
e;return{setPrefix:function(c){q=c},getPath:k,setPath:h,defineRoutes:function(e,f,h){function m(){var c=k(),m={},n=g(c,m,m),q;for(q in e){var r=new RegExp("^"+q.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(r.test(n)){n.replace(r,function(){for(var g=q.match(/:[^\/]+/g)||[],h=[].slice.call(arguments,1,-2),k=0;k<g.length;k++)m[g[k].replace(/:|\./g,"")]=decodeURIComponent(h[k]);f(e[q],m,c,q)});return}}h(c,m)}r?c.onpopstate=n(m):"#"===q.charAt(0)&&(c.onhashchange=m);m();
return m},link:function(c){c.dom.setAttribute("href",q+c.attrs.href);c.dom.onclick=function(c){c.ctrlKey||c.metaKey||c.shiftKey||2===c.which||(c.preventDefault(),c.redraw=!1,c=this.getAttribute("href"),0===c.indexOf(q)&&(c=c.slice(q.length)),h(c,void 0,void 0))}}}};v.route=function(c,f){function n(c){return c}var g=V(c),k,h,v,A,q,e={view:function(){return[v(r(h,null,A,void 0,void 0,void 0))]}},w=function(c,r,u){h="div";v=n;A=null;f(c,e);g.defineRoutes(u,function(e,f,g){var m="function"!==typeof e.view,
r=n,t=k=function(n){t===k&&(k=null,h=null!=n?n:m?"div":e,v=r,A=f,q=g,c.redraw(!0))},u=function(){t()};m&&("function"===typeof e.render&&(r=e.render.bind(e)),"function"===typeof e.onmatch&&(u=e.onmatch));u.call(e,t,f,g)},function(){g.setPath(r,null,{replace:!0})})};w.link=g.link;w.prefix=g.setPrefix;w.set=g.setPath;w.get=function(){return q};return w}(window,v.mount);v.withAttr=function(c,f,n){return function(g){return f.call(n||this,c in g.currentTarget?g.currentTarget[c]:g.currentTarget.getAttribute(c))}};
v.prop=P;v.render=Q.render;v.redraw=M.publish;v.request=L.request;v.jsonp=L.jsonp;v.parseQueryString=N;v.buildQueryString=J;v.version="1.0.0-rc.3";"undefined"!==typeof module?module.exports=v:window.m=v};
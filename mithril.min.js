new function(){function x(b,d,p,g,l,m){return{tag:b,key:d,attrs:p,children:g,text:l,dom:m,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1}}x.normalize=function(b){return b instanceof Array?x("[",void 0,void 0,x.normalizeChildren(b),void 0,void 0):null!=b&&"object"!==typeof b?x("#",void 0,void 0,b,void 0,void 0):b};x.normalizeChildren=function(b){for(var d=0;d<b.length;d++)b[d]=x.normalize(b[d]);return b};var P=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,
G={},A=function(b){if(null==b||"string"!==typeof b&&null==b.view)throw Error("The selector must be either a string or a component.");if("string"===typeof b&&void 0===G[b]){for(var d,p,g=[],l={};d=P.exec(b);){var m=d[1],k=d[2];""===m&&""!==k?p=k:"#"===m?l.id=k:"."===m?g.push(k):"["===d[3][0]&&((m=d[6])&&(m=m.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),l[d[4]]=m||!0)}0<g.length&&(l.className=g.join(" "));G[b]=function(b,d){var f=!1,g,m,w=b.className||b["class"],k;for(k in l)b[k]=l[k];void 0!==
w&&(void 0!==b["class"]&&(b["class"]=void 0,b.className=w),void 0!==l.className&&(b.className=l.className+" "+w));for(k in b)if("key"!==k){f=!0;break}d instanceof Array&&1==d.length&&null!=d[0]&&"#"===d[0].tag?m=d[0].children:g=d;return x(p||"div",b.key,f?b:void 0,g,m,void 0)}}var t;null!=arguments[1]&&("object"!==typeof arguments[1]||void 0!==arguments[1].tag||arguments[1]instanceof Array)?g=1:(t=arguments[1],g=2);if(arguments.length===g+1)d=arguments[g]instanceof Array?arguments[g]:[arguments[g]];
else for(d=[];g<arguments.length;g++)d.push(arguments[g]);return"string"===typeof b?G[b](t||{},x.normalizeChildren(d)):x(b,t&&t.key,t||{},x.normalizeChildren(d),void 0,void 0)},I=function(b){function d(c,a,e,f,b,d,r){for(;e<f;e++){var q=a[e];null!=q&&n(c,p(q,b,r),d)}}function p(c,a,e){var f=c.tag;null!=c.attrs&&J(c.attrs,c,a);if("string"===typeof f)switch(f){case "#":return c.dom=z.createTextNode(c.children);case "<":return g(c);case "[":var b=z.createDocumentFragment();null!=c.children&&(f=c.children,
d(b,f,0,f.length,a,null,e));c.dom=b.firstChild;c.domSize=b.childNodes.length;return b;default:var n=c.tag;switch(c.tag){case "svg":e="http://www.w3.org/2000/svg";break;case "math":e="http://www.w3.org/1998/Math/MathML"}var r=(f=c.attrs)&&f.is,n=e?r?z.createElementNS(e,n,{is:r}):z.createElementNS(e,n):r?z.createElement(n,{is:r}):z.createElement(n);c.dom=n;if(null!=f)for(b in r=e,f)h(c,b,null,f[b],r);null!=c.text&&(""!==c.text?n.textContent=c.text:c.children=[x("#",void 0,void 0,c.text,void 0,void 0)]);
null!=c.children&&(b=c.children,d(n,b,0,b.length,a,null,e),a=c.attrs,"select"===c.tag&&null!=a&&("value"in a&&h(c,"value",null,a.value,void 0),"selectedIndex"in a&&h(c,"selectedIndex",null,a.selectedIndex,void 0)));return n}else return c.state||(c.state={}),K(c.state,c.tag),J(c.tag,c,a),c.instance=x.normalize(c.tag.view.call(c.state,c)),null!=c.instance?(a=p(c.instance,a,e),c.dom=c.instance.dom,c.domSize=null!=c.dom?c.instance.domSize:0,c=a):(c.domSize=0,c=D),c}function g(c){var a={caption:"table",
thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(c.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=z.createElement(a);a.innerHTML=c.children;c.dom=a.firstChild;c.domSize=a.childNodes.length;c=z.createDocumentFragment();for(var e;e=a.firstChild;)c.appendChild(e);return c}function l(c,a,e,f,b,g){if(a!==e&&(null!=a||null!=e))if(null==a)d(c,e,0,e.length,f,b,void 0);else if(null==e)v(c,a,0,a.length,e);else{var r;a:{if(null!=a.pool&&Math.abs(a.pool.length-
e.length)<=Math.abs(a.length-e.length)&&(r=e[0]&&e[0].children&&e[0].children.length||0,Math.abs((a.pool[0]&&a.pool[0].children&&a.pool[0].children.length||0)-r)<=Math.abs((a[0]&&a[0].children&&a[0].children.length||0)-r))){r=!0;break a}r=!1}r&&(a=a.concat(a.pool));if(a.length===e.length&&null!=e[0]&&null==e[0].key)for(var q=0;q<a.length;q++)a[q]===e[q]||null==a[q]&&null==e[q]||(null==a[q]?n(c,p(e[q],f,g),t(a,q+1,b)):null==e[q]?v(c,a,q,q+1,e):m(c,a[q],e[q],f,t(a,q+1,b),r,g),r&&a[q].tag===e[q].tag&&
n(c,k(a[q]),t(a,q+1,b)));else{for(var B=q=0,w=a.length-1,y=e.length-1,l;w>=q&&y>=B;){var h=a[q],u=e[B];if(h===u)q++,B++;else if(null!=h&&null!=u&&h.key===u.key)q++,B++,m(c,h,u,f,t(a,q,b),r,g),r&&h.tag===u.tag&&n(c,k(h),b);else if(h=a[w],h===u)w--,B++;else if(null!=h&&null!=u&&h.key===u.key)m(c,h,u,f,t(a,w+1,b),r,g),B<y&&n(c,k(h),t(a,q,b)),w--,B++;else break}for(;w>=q&&y>=B;){h=a[w];u=e[y];if(h===u)w--;else if(null!=h&&null!=u&&h.key===u.key)m(c,h,u,f,t(a,w+1,b),r,g),r&&h.tag===u.tag&&n(c,k(h),b),
null!=h.dom&&(b=h.dom),w--;else{if(!l){l=a;var h=w,z={},x;for(x=0;x<h;x++){var C=l[x];null!=C&&(C=C.key,null!=C&&(z[C]=x))}l=z}null!=u&&(h=l[u.key],null!=h?(z=a[h],m(c,z,u,f,t(a,w+1,b),r,g),n(c,k(z),b),a[h].skip=!0,null!=z.dom&&(b=z.dom)):(u=p(u,f,void 0),n(c,u,b),b=u))}y--;if(y<B)break}d(c,e,B,y+1,f,b,g);v(c,a,q,w+1,e)}}}function m(c,a,e,b,d,y,r){var q=a.tag;if(q===e.tag){e.state=a.state;e.events=a.events;var B;var u;null!=e.attrs&&"function"===typeof e.attrs.onbeforeupdate&&(B=e.attrs.onbeforeupdate.call(e.state,
e,a));"string"!==typeof e.tag&&"function"===typeof e.tag.onbeforeupdate&&(u=e.tag.onbeforeupdate.call(e.state,e,a));void 0===B&&void 0===u||B||u?B=!1:(e.dom=a.dom,e.domSize=a.domSize,e.instance=a.instance,B=!0);if(!B)if(null!=e.attrs&&A(e.attrs,e,b,y),"string"===typeof q)switch(q){case "#":a.children.toString()!==e.children.toString()&&(a.dom.nodeValue=e.children);e.dom=a.dom;break;case "<":a.children!==e.children?(k(a),n(c,g(e),d)):(e.dom=a.dom,e.domSize=a.domSize);break;case "[":l(c,a.children,
e.children,b,d,r);a=0;b=e.children;e.dom=null;if(null!=b){for(var v=0;v<b.length;v++)c=b[v],null!=c&&null!=c.dom&&(null==e.dom&&(e.dom=c.dom),a+=c.domSize||1);1!==a&&(e.domSize=a)}break;default:c=r;d=e.dom=a.dom;switch(e.tag){case "svg":c="http://www.w3.org/2000/svg";break;case "math":c="http://www.w3.org/1998/Math/MathML"}"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text));y=a.attrs;r=e.attrs;q=c;if(null!=r)for(v in r)h(e,v,y&&y[v],r[v],q);if(null!=y)for(v in y)null!=
r&&v in r||("o"!==v[0]||"n"!==v[1]||w(v)?"key"!==v&&e.dom.removeAttribute(v):C(e,v,void 0));null!=a.text&&null!=e.text&&""!==e.text?a.text.toString()!==e.text.toString()&&(a.dom.firstChild.nodeValue=e.text):(null!=a.text&&(a.children=[x("#",void 0,void 0,a.text,void 0,a.dom.firstChild)]),null!=e.text&&(e.children=[x("#",void 0,void 0,e.text,void 0,void 0)]),l(d,a.children,e.children,b,null,c))}else e.instance=x.normalize(e.tag.view.call(e.state,e)),A(e.tag,e,b,y),null!=e.instance?(null==a.instance?
n(c,p(e.instance,b,r),d):m(c,a.instance,e.instance,b,d,y,r),e.dom=e.instance.dom,e.domSize=e.instance.domSize):null!=a.instance?(f(c,a.instance,null,!1),e.dom=void 0,e.domSize=0):(e.dom=a.dom,e.domSize=a.domSize)}else f(c,a,null,!1),n(c,p(e,b,void 0),d)}function k(c){var a=c.domSize;if(null!=a||null==c.dom){var e=z.createDocumentFragment();if(0<a){for(c=c.dom;--a;)e.appendChild(c.nextSibling);e.insertBefore(c,e.firstChild)}return e}return c.dom}function t(c,a,e){for(;a<c.length;a++)if(null!=c[a]&&
null!=c[a].dom)return c[a].dom;return e}function n(c,a,e){e&&e.parentNode?c.insertBefore(a,e):c.appendChild(a)}function v(c,a,e,b,d){for(;e<b;e++){var h=a[e];null!=h&&(h.skip?h.skip=!1:f(c,h,d,!1))}}function f(c,a,e,b){if(!1===b){var d=0,h=0;b=function(){++h===d&&f(c,a,e,!0)};a.attrs&&a.attrs.onbeforeremove&&(d++,a.attrs.onbeforeremove.call(a.state,a,b));"string"!==typeof a.tag&&a.tag.onbeforeremove&&(d++,a.tag.onbeforeremove.call(a.state,a,b));if(0<d)return}y(a);if(a.dom){b=a.domSize||1;if(1<b)for(var r=
a.dom;--b;)c.removeChild(r.nextSibling);null!=a.dom.parentNode&&c.removeChild(a.dom);null==e||null!=a.domSize||u(a.attrs)||"string"!==typeof a.tag||(e.pool?e.pool.push(a):e.pool=[a])}}function y(c){c.attrs&&c.attrs.onremove&&c.attrs.onremove.call(c.state,c);"string"!==typeof c.tag&&c.tag.onremove&&c.tag.onremove.call(c.state,c);if(null!=c.instance)y(c.instance);else if(c=c.children,c instanceof Array)for(var a=0;a<c.length;a++){var e=c[a];null!=e&&y(e)}}function h(c,a,e,b,f){var d=c.dom;if("key"!==
a&&(e!==b||"value"===a||"checked"===a||"selectedIndex"===a||"selected"===a&&c.dom===z.activeElement||"object"===typeof b)&&"undefined"!==typeof b&&!w(a)){var r=a.indexOf(":");if(-1<r&&"xlink"===a.substr(0,r))d.setAttributeNS("http://www.w3.org/1999/xlink",a.slice(r+1),b);else if("o"===a[0]&&"n"===a[1]&&"function"===typeof b)C(c,a,b);else if("style"===a)if(c=e,c===b&&(d.style.cssText="",c=null),null==b)d.style.cssText="";else if("string"===typeof b)d.style.cssText=b;else{"string"===typeof c&&(d.style.cssText=
"");for(var q in b)d.style[q]=b[q];if(null!=c&&"string"!==typeof c)for(q in c)q in b||(d.style[q]="")}else if(a in d&&"href"!==a&&"list"!==a&&"form"!==a&&void 0===f){if("input"!==c.tag||"value"!==a||c.dom.value!==b||c.dom!==z.activeElement)d[a]=b}else"boolean"===typeof b?b?d.setAttribute(a,""):d.removeAttribute(a):d.setAttribute("className"===a?"class":a,b)}}function w(c){return"oninit"===c||"oncreate"===c||"onupdate"===c||"onremove"===c||"onbeforeremove"===c||"onbeforeupdate"===c}function u(c){return null!=
c&&(c.oncreate||c.onupdate||c.onbeforeremove||c.onremove)}function C(c,a,b){var f=c.dom,d=function(a){var c=b.call(f,a);"function"===typeof H&&H.call(f,a);return c};if(a in f)f[a]=d;else{var h=a.slice(2);void 0===c.events&&(c.events={});null!=c.events[a]&&f.removeEventListener(h,c.events[a],!1);"function"===typeof b&&(c.events[a]=d,f.addEventListener(h,c.events[a],!1))}}function J(c,a,b){"function"===typeof c.oninit&&c.oninit.call(a.state,a);"function"===typeof c.oncreate&&b.push(c.oncreate.bind(a.state,
a))}function A(c,a,b,f){f?J(c,a,b):"function"===typeof c.onupdate&&b.push(c.onupdate.bind(a.state,a))}function K(c,a){Object.keys(a).forEach(function(b){c[b]=a[b]})}var z=b.document,D=z.createDocumentFragment(),H;return{render:function(c,a){var b=[],f=z.activeElement;null==c.vnodes&&(c.textContent="");a instanceof Array||(a=[a]);l(c,c.vnodes,x.normalizeChildren(a),b,null,void 0);c.vnodes=a;for(var d=0;d<b.length;d++)b[d]();z.activeElement!==f&&f.focus()},setEventCallback:function(c){return H=c}}}(window),
F=function(b){function d(b,g){if(g instanceof Array)for(var k=0;k<g.length;k++)d(b+"["+k+"]",g[k]);else if("[object Object]"===Object.prototype.toString.call(g))for(k in g)d(b+"["+k+"]",g[k]);else p.push(encodeURIComponent(b)+(null!=g&&""!==g?"="+encodeURIComponent(g):""))}if("[object Object]"!==Object.prototype.toString.call(b))return"";var p=[],g;for(g in b)d(g,b[g]);return p.join("&")},M=function(b){function d(){function a(){0<arguments.length&&arguments[0]!==E&&g(a,arguments[0],void 0);return a._state.value}
p(a,arguments);0<arguments.length&&arguments[0]!==E&&g(a,arguments[0],void 0);return a}function p(a,c){a.constructor=d;a._state={id:I++,value:void 0,error:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],errorStream:void 0,endStream:void 0};a.map=D;a.ap=K;a.of=d;a.valueOf=z;a.toJSON=G;a.toString=z;a.run=f;a["catch"]=y;Object.defineProperties(a,{error:{get:function(){if(!a._state.errorStream){var c=function(){0<arguments.length&&arguments[0]!==E&&g(a,void 0,arguments[0]);return a._state.error};
p(c,[]);u(c,[a],F,F);a._state.errorStream=c}return a._state.errorStream}},end:{get:function(){if(!a._state.endStream){var c=d();c.map(function(b){!0===b&&(A(a),A(c));return b});a._state.endStream=c}return a._state.endStream}}})}function g(a,c,b){l(a,c,b);for(var e in a._state.deps)k(a._state.deps[e],!1);a._state.changed=!1;for(var f in a._state.deps)a._state.deps[f]._state.changed=!1}function l(a,c,b){b=n(c,b);if(void 0!==b&&"function"===typeof a._state.recover){if(!t(a,m,!0))return}else m(a,c,b);
a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function m(a,c,b){a._state.value=c;a._state.error=b}function k(a,b){var f=a._state.parents;0<f.length&&f.filter(H).length===f.length&&(b||0<f.filter(c).length)&&(f=f.filter(e),0<f.length?l(a,void 0,f[0]._state.error):t(a,l,!1))}function t(a,c,b){try{var f=b?a._state.recover():a._state.derive();if(f===E)return!1;c(a,f,void 0)}catch(e){c(a,void 0,null!=e.__error?e.__error:e),null==e.__error&&v(a,e)}return!0}function n(a,c){null!=a&&a.constructor===
d&&(c=void 0!==a._state.error?a._state.error:n(a._state.value,a._state.error));return c}function v(a,c){0===Object.keys(a._state.deps).length&&setTimeout(function(){0===Object.keys(a._state.deps).length&&b(c)},0)}function f(a){var c=d(),b=this;return u(c,[b],function(){return w(c,a(b()))},void 0)}function y(a){var c=d(),b=this;return u(c,[b],function(){return b._state.value},function(){return w(c,a(b._state.error))})}function h(a,b){return u(d(),b,function(){var f=b.filter(e);if(0<f.length)throw{__error:f[0]._state.error};
return a.apply(this,b.concat([b.filter(c)]))},void 0)}function w(a,c){if(null!=c&&c.constructor===d){var b=c,f=function(){l(a,b._state.value,b._state.error);for(var c in a._state.deps)k(a._state.deps[c],!1)};b.map(f)["catch"](function(a){f();throw{__error:a};});if(0===b._state.state)return E;if(b._state.error)throw{__error:b._state.error};c=b._state.value}return c}function u(c,b,f,e){var d=c._state;d.derive=f;d.recover=e;d.parents=b.filter(a);x(c,d.parents);k(c,!0);return c}function x(a,c){for(var b=
0;b<c.length;b++)c[b]._state.deps[a._state.id]=a,x(a,c[b]._state.parents)}function A(a){for(var c=0;c<a._state.parents.length;c++)delete a._state.parents[c]._state.deps[a._state.id];for(var b in a._state.deps){var c=a._state.deps[b],f=c._state.parents.indexOf(a);-1<f&&c._state.parents.splice(f,1)}a._state.state=2;a._state.deps={}}function D(a){return h(function(c){return a(c())},[this])}function K(a){return h(function(a,c){return a()(c())},[this,a])}function z(){return this._state.value}function G(){return null!=
this._state.value&&"function"===typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function H(a){return 1===a._state.state}function c(a){return a._state.changed}function a(a){return 2!==a._state.state}function e(a){return a._state.error}var I=0,F=function(){},E={};d.merge=function(a){return h(function(){return a.map(function(a){return a()})},a)};d.combine=h;d.reject=function(a){var c=d();c.error(a);return c};d.HALT=E;return d},L=function(b,d){function p(b,d){if(null==d)return b;
for(var h=b.match(/:[^\/]+/gi)||[],g=0;g<h.length;g++){var n=h[g].slice(1);null!=d[n]&&(b=b.replace(h[g],d[n]),delete d[n])}return b}function g(b,d){var h=F(d);if(""!==h){var g=0>b.indexOf("?")?"?":"&";b+=g+h}return b}function l(b){try{return""!==b?JSON.parse(b):null}catch(d){throw Error(b);}}function m(b){return b.responseText}function k(b,d){if("function"===typeof b)if(d instanceof Array)for(var h=0;h<d.length;h++)d[h]=new b(d[h]);else return new b(d);return d}var t=M(d),n=0,v;return{request:function(f){var d=
t();void 0!==f.initialValue&&d(f.initialValue);var h="boolean"===typeof f.useBody?f.useBody:"GET"!==f.method&&"TRACE"!==f.method;"function"!==typeof f.serialize&&(f.serialize="undefined"!==typeof FormData&&f.data instanceof FormData?function(b){return b}:JSON.stringify);"function"!==typeof f.deserialize&&(f.deserialize=l);"function"!==typeof f.extract&&(f.extract=m);f.url=p(f.url,f.data);h?f.data=f.serialize(f.data):f.url=g(f.url,f.data);var n=new b.XMLHttpRequest;n.open(f.method,f.url,"boolean"===
typeof f.async?f.async:!0,"string"===typeof f.user?f.user:void 0,"string"===typeof f.password?f.password:void 0);f.serialize===JSON.stringify&&h&&n.setRequestHeader("Content-Type","application/json; charset=utf-8");f.deserialize===l&&n.setRequestHeader("Accept","application/json, text/*");"function"===typeof f.config&&(n=f.config(n,f)||n);n.onreadystatechange=function(){if(4===n.readyState){try{var b=f.extract!==m?f.extract(n,f):f.deserialize(f.extract(n,f));if(200<=n.status&&300>n.status)d(k(f.type,
b));else{var h=Error(n.responseText),g;for(g in b)h[g]=b[g];d.error(h)}}catch(l){d.error(l)}"function"===typeof v&&v()}};h?n.send(f.data):n.send();return d},jsonp:function(d){var l=t();void 0!==d.initialValue&&l(d.initialValue);var h=d.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+n++,w=b.document.createElement("script");b[h]=function(g){w.parentNode.removeChild(w);l(k(d.type,g));"function"===typeof v&&v();delete b[h]};w.onerror=function(){w.parentNode.removeChild(w);l.error(Error("JSONP request failed"));
"function"===typeof v&&v();delete b[h]};null==d.data&&(d.data={});d.url=p(d.url,d.data);d.data[d.callbackKey||"callback"]=h;w.src=g(d.url,d.data);b.document.documentElement.appendChild(w);return l},setCompletionCallback:function(b){v=b}}}(window,console.error.bind(console)),D=function(){var b=[];return{subscribe:b.push.bind(b),unsubscribe:function(d){d=b.indexOf(d);-1<d&&b.splice(d,1)},publish:function(){for(var d=0;d<b.length;d++)b[d].apply(this,arguments)}}}();L.setCompletionCallback(D.publish);
var N=function(b){if(""===b||null==b)return{};"?"===b.charAt(0)&&(b=b.slice(1));b=b.split("&");for(var d={},p={},g=0;g<b.length;g++){var l=b[g].split("="),m=decodeURIComponent(l[0]),l=2===l.length?decodeURIComponent(l[1]):"",k=Number(l);""!==l&&!isNaN(k)||"NaN"===l?l=k:"true"===l?l=!0:"false"===l?l=!1:(k=new Date(l),isNaN(k.getTime())||(l=k));var k=m.split(/\]\[?|\[/),t=d;-1<m.indexOf("[")&&k.pop();for(var n=0;n<k.length;n++){var m=k[n],v=k[n+1],v=""==v||!isNaN(parseInt(v,10)),f=n===k.length-1;""===
m&&(m=k.slice(0,n).join(),null==p[m]&&(p[m]=0),m=p[m]++);null==t[m]&&(t[m]=f?l:v?[]:{});t=t[m]}}return d},Q=function(b){function d(d){var g=b.location[d].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===d&&"/"!==g[0]&&(g="/"+g);return g}function p(b,d,f){var g=b.indexOf("?"),h=b.indexOf("#"),l=-1<g?g:-1<h?h:b.length;if(-1<g){var g=N(b.slice(g+1,-1<h?h:b.length)),k;for(k in g)d[k]=g[k]}if(-1<h)for(k in d=N(b.slice(h+1)),d)f[k]=d[k];return b.slice(0,l)}function g(){switch(t.charAt(0)){case "#":return d("hash").slice(t.length);
case "?":return d("search").slice(t.length)+d("hash");default:return d("pathname").slice(t.length)+d("search")+d("hash")}}function l(d,g,f){var l={},h={};d=p(d,l,h);if(null!=g){for(var k in g)l[k]=g[k];d=d.replace(/:([^\/]+)/g,function(b,d){delete l[d];return g[d]})}(k=F(l))&&(d+="?"+k);(h=F(h))&&(d+="#"+h);m?(f&&f.replace?b.history.replaceState(null,null,t+d):b.history.pushState(null,null,t+d),b.onpopstate()):b.location.href=t+d}var m="function"===typeof b.history.pushState,k="function"===typeof setImmediate?
setImmediate:setTimeout,t="#!";return{setPrefix:function(b){t=b},getPath:g,setPath:l,defineRoutes:function(d,l,f){function y(){var b=g(),m={},u=p(b,m,m);k(function(){for(var g in d){var k=new RegExp("^"+g.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(k.test(u)){u.replace(k,function(){for(var f=g.match(/:[^\/]+/g)||[],k=[].slice.call(arguments,1,-2),p=0;p<f.length;p++)m[f[p].replace(/:|\./g,"")]=decodeURIComponent(k[p]);l(d[g],m,b,g)});return}}f(b,m)})}m?b.onpopstate=
y:"#"===t.charAt(0)&&(b.onhashchange=y);y();return y},link:function(b){b.dom.setAttribute("href",t+b.attrs.href);b.dom.onclick=function(d){d.preventDefault();d.redraw=!1;l(b.attrs.href,void 0,void 0)}}}},R=function(b){var d=0,p=null,g="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(l){var m=Date.now();!0===l||0===d||16<=m-d?(d=m,b()):null===p&&(p=g(function(){p=null;b();d=Date.now()},16-(m-d)))}},O=function(b,d,p,g){g=R(g);null!=d&&d.setEventCallback(function(b){!1!==
b.redraw&&p.publish()});null!=p&&(b.redraw&&p.unsubscribe(b.redraw),p.subscribe(g));return b.redraw=g};A.route=function(b,d,p){var g=Q(b);b=function(b,m,k){var t=null,n="div";k=g.defineRoutes(k,function(g,f,k,h){f.path=k;f.route=h;if("function"===typeof g.onmatch){"function"!==typeof g.view&&(g.view=function(b){return b});var m=function(h){t=k;n=h;d.render(b,g.view(x(h,null,f,void 0,void 0,void 0)))};"function"!==typeof g.onmatch&&(g.onmatch=function(){m(n)});if(k!==t)g.onmatch(x(g,null,f,void 0,
void 0,void 0),m);else m(n)}else d.render(b,x(g,null,f,void 0,void 0,void 0))},function(){g.setPath(m,null,{replace:!0})});O(b,d,p,k)};b.link=g.link;b.prefix=g.setPrefix;b.set=g.setPath;b.get=g.getPath;return b}(window,I,D);var S={view:function(){}};A.mount=function(b,d){return function(p,g){d.unsubscribe(p.redraw);O(p,b,d,function(){b.render(p,x(null===g?S:g,void 0,void 0,void 0,void 0,void 0))})();null===g&&delete p.redraw}}(I,D);A.trust=function(b){return x("<",void 0,void 0,b,void 0,void 0)};
A.withAttr=function(b,d,p){return function(g){return d.call(p||this,b in g.currentTarget?g.currentTarget[b]:g.currentTarget.getAttribute(b))}};A.prop=M(console.log.bind(console));A.render=I.render;A.redraw=D.publish;A.request=L.request;A.jsonp=L.jsonp;A.version="1.0.0";"undefined"!==typeof module?module.exports=A:window.m=A};
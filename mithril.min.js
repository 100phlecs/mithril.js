new function(){function w(b,f,p,h,k,l){return{tag:b,key:f,attrs:p,children:h,text:k,dom:l,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1}}function y(b){if(null==b||"string"!==typeof b&&null==b.view)throw Error("The selector must be either a string or a component.");if("string"===typeof b&&void 0===H[b]){for(var f,p,h=[],k={};f=O.exec(b);){var l=f[1],m=f[2];""===l&&""!==m?p=m:"#"===l?k.id=m:"."===l?h.push(m):"["===f[3][0]&&((l=f[6])&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),
k[f[4]]=l||!0)}0<h.length&&(k.className=h.join(" "));H[b]=function(b,g){var f=!1,l,h,m=b.className||b["class"],r;for(r in k)b[r]=k[r];void 0!==m&&(void 0!==b["class"]&&(b["class"]=void 0,b.className=m),void 0!==k.className&&(b.className=k.className+" "+m));for(r in b)if("key"!==r){f=!0;break}g instanceof Array&&1==g.length&&null!=g[0]&&"#"===g[0].tag?h=g[0].children:l=g;return w(p||"div",b.key,f?b:void 0,l,h,void 0)}}var v;null!=arguments[1]&&("object"!==typeof arguments[1]||void 0!==arguments[1].tag||
arguments[1]instanceof Array)?h=1:(v=arguments[1],h=2);if(arguments.length===h+1)f=arguments[h]instanceof Array?arguments[h]:[arguments[h]];else for(f=[];h<arguments.length;h++)f.push(arguments[h]);return"string"===typeof b?H[b](v||{},w.normalizeChildren(f)):w(b,v&&v.key,v||{},w.normalizeChildren(f),void 0,void 0)}w.normalize=function(b){return b instanceof Array?w("[",void 0,void 0,w.normalizeChildren(b),void 0,void 0):null!=b&&"object"!==typeof b?w("#",void 0,void 0,b,void 0,void 0):b};w.normalizeChildren=
function(b){for(var f=0;f<b.length;f++)b[f]=w.normalize(b[f]);return b};var O=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,H={};y.trust=function(b){return w("<",void 0,void 0,b,void 0,void 0)};y.fragment=function(b,f){return w("[",b.key,b,w.normalizeChildren(f),void 0,void 0)};var M=function(b){function f(c,a,e,g,b,f,d){for(;e<g;e++){var t=a[e];null!=t&&q(c,p(t,b,d),f)}}function p(c,a,e){var g=c.tag;null!=c.attrs&&D(c.attrs,c,a);if("string"===typeof g)switch(g){case "#":return c.dom=
x.createTextNode(c.children);case "<":return h(c);case "[":var b=x.createDocumentFragment();null!=c.children&&(g=c.children,f(b,g,0,g.length,a,null,e));c.dom=b.firstChild;c.domSize=b.childNodes.length;return b;default:var d=c.tag;switch(c.tag){case "svg":e="http://www.w3.org/2000/svg";break;case "math":e="http://www.w3.org/1998/Math/MathML"}var l=(g=c.attrs)&&g.is,d=e?l?x.createElementNS(e,d,{is:l}):x.createElementNS(e,d):l?x.createElement(d,{is:l}):x.createElement(d);c.dom=d;if(null!=g)for(b in l=
e,g)u(c,b,null,g[b],l);null!=c.text&&(""!==c.text?d.textContent=c.text:c.children=[w("#",void 0,void 0,c.text,void 0,void 0)]);null!=c.children&&(b=c.children,f(d,b,0,b.length,a,null,e),a=c.attrs,"select"===c.tag&&null!=a&&("value"in a&&u(c,"value",null,a.value,void 0),"selectedIndex"in a&&u(c,"selectedIndex",null,a.selectedIndex,void 0)));return d}else{c.state||(c.state={});P(c.state,c.tag);D(c.tag,c,a);c.instance=w.normalize(c.tag.view.call(c.state,c));if(null!=c.instance){if(c.instance===c)throw Error("A view cannot return the vnode it received as arguments");
a=p(c.instance,a,e);c.dom=c.instance.dom;c.domSize=null!=c.dom?c.instance.domSize:0;c=a}else c.domSize=0,c=J;return c}}function h(c){var a={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(c.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=x.createElement(a);a.innerHTML=c.children;c.dom=a.firstChild;c.domSize=a.childNodes.length;c=x.createDocumentFragment();for(var e;e=a.firstChild;)c.appendChild(e);return c}function k(c,a,e,b,
d,h){if(a!==e&&(null!=a||null!=e))if(null==a)f(c,e,0,e.length,b,d,void 0);else if(null==e)g(c,a,0,a.length,e);else{var k;a:{if(null!=a.pool&&Math.abs(a.pool.length-e.length)<=Math.abs(a.length-e.length)&&(k=e[0]&&e[0].children&&e[0].children.length||0,Math.abs((a.pool[0]&&a.pool[0].children&&a.pool[0].children.length||0)-k)<=Math.abs((a[0]&&a[0].children&&a[0].children.length||0)-k))){k=!0;break a}k=!1}k&&(a=a.concat(a.pool));if(a.length===e.length&&null!=e[0]&&null==e[0].key)for(var t=0;t<a.length;t++)a[t]===
e[t]||null==a[t]&&null==e[t]||(null==a[t]?q(c,p(e[t],b,h),v(a,t+1,d)):null==e[t]?g(c,a,t,t+1,e):l(c,a[t],e[t],b,v(a,t+1,d),k,h),k&&a[t].tag===e[t].tag&&q(c,m(a[t]),v(a,t+1,d)));else{for(var A=t=0,B=a.length-1,z=e.length-1,n;B>=t&&z>=A;){var r=a[t],u=e[A];if(r===u)t++,A++;else if(null!=r&&null!=u&&r.key===u.key)t++,A++,l(c,r,u,b,v(a,t,d),k,h),k&&r.tag===u.tag&&q(c,m(r),d);else if(r=a[B],r===u)B--,A++;else if(null!=r&&null!=u&&r.key===u.key)l(c,r,u,b,v(a,B+1,d),k,h),A<z&&q(c,m(r),v(a,t,d)),B--,A++;
else break}for(;B>=t&&z>=A;){r=a[B];u=e[z];if(r===u)B--;else if(null!=r&&null!=u&&r.key===u.key)l(c,r,u,b,v(a,B+1,d),k,h),k&&r.tag===u.tag&&q(c,m(r),d),null!=r.dom&&(d=r.dom),B--;else{if(!n){n=a;var r=B,C={},x;for(x=0;x<r;x++){var D=n[x];null!=D&&(D=D.key,null!=D&&(C[D]=x))}n=C}null!=u&&(r=n[u.key],null!=r?(C=a[r],l(c,C,u,b,v(a,B+1,d),k,h),q(c,m(C),d),a[r].skip=!0,null!=C.dom&&(d=C.dom)):(u=p(u,b,void 0),q(c,u,d),d=u))}z--;if(z<A)break}f(c,e,A,z+1,b,d,h);g(c,a,t,B+1,e)}}}function l(c,a,e,b,g,d,f){var t=
a.tag;if(t===e.tag){e.state=a.state;e.events=a.events;var A;var B;null!=e.attrs&&"function"===typeof e.attrs.onbeforeupdate&&(A=e.attrs.onbeforeupdate.call(e.state,e,a));"string"!==typeof e.tag&&"function"===typeof e.tag.onbeforeupdate&&(B=e.tag.onbeforeupdate.call(e.state,e,a));void 0===A&&void 0===B||A||B?A=!1:(e.dom=a.dom,e.domSize=a.domSize,e.instance=a.instance,A=!0);if(!A)if(null!=e.attrs&&y(e.attrs,e,b,d),"string"===typeof t)switch(t){case "#":a.children.toString()!==e.children.toString()&&
(a.dom.nodeValue=e.children);e.dom=a.dom;break;case "<":a.children!==e.children?(m(a),q(c,h(e),g)):(e.dom=a.dom,e.domSize=a.domSize);break;case "[":k(c,a.children,e.children,b,g,f);a=0;b=e.children;e.dom=null;if(null!=b){for(var n=0;n<b.length;n++)c=b[n],null!=c&&null!=c.dom&&(null==e.dom&&(e.dom=c.dom),a+=c.domSize||1);1!==a&&(e.domSize=a)}break;default:c=f;g=e.dom=a.dom;switch(e.tag){case "svg":c="http://www.w3.org/2000/svg";break;case "math":c="http://www.w3.org/1998/Math/MathML"}"textarea"===
e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text));d=a.attrs;f=e.attrs;t=c;if(null!=f)for(n in f)u(e,n,d&&d[n],f[n],t);if(null!=d)for(n in d)null!=f&&n in f||("className"===n&&(n="class"),"o"!==n[0]||"n"!==n[1]||r(n)?"key"!==n&&e.dom.removeAttribute(n):C(e,n,void 0));null!=a.text&&null!=e.text&&""!==e.text?a.text.toString()!==e.text.toString()&&(a.dom.firstChild.nodeValue=e.text):(null!=a.text&&(a.children=[w("#",void 0,void 0,a.text,void 0,a.dom.firstChild)]),null!=e.text&&
(e.children=[w("#",void 0,void 0,e.text,void 0,void 0)]),k(g,a.children,e.children,b,null,c))}else e.instance=w.normalize(e.tag.view.call(e.state,e)),y(e.tag,e,b,d),null!=e.instance?(null==a.instance?q(c,p(e.instance,b,f),g):l(c,a.instance,e.instance,b,g,d,f),e.dom=e.instance.dom,e.domSize=e.instance.domSize):null!=a.instance?(z(c,a.instance,null),e.dom=void 0,e.domSize=0):(e.dom=a.dom,e.domSize=a.domSize)}else z(c,a,null),q(c,p(e,b,void 0),g)}function m(c){var a=c.domSize;if(null!=a||null==c.dom){var e=
x.createDocumentFragment();if(0<a){for(c=c.dom;--a;)e.appendChild(c.nextSibling);e.insertBefore(c,e.firstChild)}return e}return c.dom}function v(c,a,e){for(;a<c.length;a++)if(null!=c[a]&&null!=c[a].dom)return c[a].dom;return e}function q(c,a,e){e&&e.parentNode?c.insertBefore(a,e):c.appendChild(a)}function g(c,a,e,b,g){for(;e<b;e++){var d=a[e];null!=d&&(d.skip?d.skip=!1:z(c,d,g))}}function d(c){var a=!1;return function(){a||(a=!0,c())}}function z(c,a,e){function b(){if(++f===g&&(n(a),a.dom)){var d=
a.domSize||1;if(1<d)for(var t=a.dom;--d;)c.removeChild(t.nextSibling);null!=a.dom.parentNode&&c.removeChild(a.dom);if(d=null!=e&&null==a.domSize)d=a.attrs,d=!(null!=d&&(d.oncreate||d.onupdate||d.onbeforeremove||d.onremove));d&&"string"===typeof a.tag&&(e.pool?e.pool.push(a):e.pool=[a])}}var g=1,f=0;a.attrs&&a.attrs.onbeforeremove&&(g++,a.attrs.onbeforeremove.call(a.state,a,d(b)));"string"!==typeof a.tag&&a.tag.onbeforeremove&&(g++,a.tag.onbeforeremove.call(a.state,a,d(b)));b()}function n(c){c.attrs&&
c.attrs.onremove&&c.attrs.onremove.call(c.state,c);"string"!==typeof c.tag&&c.tag.onremove&&c.tag.onremove.call(c.state,c);if(null!=c.instance)n(c.instance);else if(c=c.children,c instanceof Array)for(var a=0;a<c.length;a++){var e=c[a];null!=e&&n(e)}}function u(c,a,e,b,g){var d=c.dom;if("key"!==a&&(e!==b||"value"===a||"checked"===a||"selectedIndex"===a||"selected"===a&&c.dom===x.activeElement||"object"===typeof b)&&"undefined"!==typeof b&&!r(a)){var f=a.indexOf(":");if(-1<f&&"xlink"===a.substr(0,
f))d.setAttributeNS("http://www.w3.org/1999/xlink",a.slice(f+1),b);else if("o"===a[0]&&"n"===a[1]&&"function"===typeof b)C(c,a,b);else if("style"===a)if(c=e,c===b&&(d.style.cssText="",c=null),null==b)d.style.cssText="";else if("string"===typeof b)d.style.cssText=b;else{"string"===typeof c&&(d.style.cssText="");for(var t in b)d.style[t]=b[t];if(null!=c&&"string"!==typeof c)for(t in c)t in b||(d.style[t]="")}else if(a in d&&"href"!==a&&"list"!==a&&"form"!==a&&void 0===g){if("input"!==c.tag||"value"!==
a||c.dom.value!==b||c.dom!==x.activeElement)d[a]=b}else"boolean"===typeof b?b?d.setAttribute(a,""):d.removeAttribute(a):d.setAttribute("className"===a?"class":a,b)}}function r(c){return"oninit"===c||"oncreate"===c||"onupdate"===c||"onremove"===c||"onbeforeremove"===c||"onbeforeupdate"===c}function C(c,a,b){var d=c.dom,g=function(a){var c=b.call(d,a);"function"===typeof I&&I.call(d,a);return c};if(a in d)d[a]=g;else{var f=a.slice(2);void 0===c.events&&(c.events={});null!=c.events[a]&&d.removeEventListener(f,
c.events[a],!1);"function"===typeof b&&(c.events[a]=g,d.addEventListener(f,c.events[a],!1))}}function D(c,a,b){"function"===typeof c.oninit&&c.oninit.call(a.state,a);"function"===typeof c.oncreate&&b.push(c.oncreate.bind(a.state,a))}function y(c,a,b,d){d?D(c,a,b):"function"===typeof c.onupdate&&b.push(c.onupdate.bind(a.state,a))}function P(c,a){Object.keys(a).forEach(function(b){c[b]=a[b]})}var x=b.document,J=x.createDocumentFragment(),I;return{render:function(c,a){if(!c)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");
var b=[],d=x.activeElement;null==c.vnodes&&(c.textContent="");a instanceof Array||(a=[a]);k(c,c.vnodes,w.normalizeChildren(a),b,null,void 0);c.vnodes=a;for(var g=0;g<b.length;g++)b[g]();x.activeElement!==d&&d.focus()},setEventCallback:function(c){return I=c}}}(window),N=function(b){function f(){function a(){0<arguments.length&&arguments[0]!==F&&h(a,arguments[0],void 0);return a._state.value}p(a,arguments);0<arguments.length&&arguments[0]!==F&&h(a,arguments[0],void 0);return a}function p(a,c){a.constructor=
f;a._state={id:H++,value:void 0,error:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],errorStream:void 0,endStream:void 0};a.map=w;a.ap=y;a.of=f;a.valueOf=x;a.toJSON=J;a.toString=x;a.run=d;a["catch"]=z;Object.defineProperties(a,{error:{get:function(){if(!a._state.errorStream){var c=function(){0<arguments.length&&arguments[0]!==F&&h(a,void 0,arguments[0]);return a._state.error};p(c,[]);r(c,[a],G,G);a._state.errorStream=c}return a._state.errorStream}},end:{get:function(){if(!a._state.endStream){var c=
f();c.map(function(b){!0===b&&(D(a),D(c));return b});a._state.endStream=c}return a._state.endStream}}})}function h(a,c,b){k(a,c,b);for(var d in a._state.deps)m(a._state.deps[d],!1);a._state.changed=!1;for(var e in a._state.deps)a._state.deps[e]._state.changed=!1}function k(a,c,b){b=q(c,b);if(void 0!==b&&"function"===typeof a._state.recover){if(!v(a,l,!0))return}else l(a,c,b);a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function l(a,c,b){a._state.value=c;a._state.error=b}function m(b,
d){var e=b._state.parents;0<e.length&&e.filter(c).length===e.length&&(d||0<e.filter(a).length)&&(e=e.filter(E),0<e.length?k(b,void 0,e[0]._state.error):v(b,k,!1))}function v(a,c,b){try{var d=b?a._state.recover():a._state.derive();if(d===F)return!1;c(a,d,void 0)}catch(e){c(a,void 0,null!=e.__error?e.__error:e),null==e.__error&&g(a,e)}return!0}function q(a,c){null!=a&&a.constructor===f&&(c=void 0!==a._state.error?a._state.error:q(a._state.value,a._state.error));return c}function g(a,c){0===Object.keys(a._state.deps).length&&
setTimeout(function(){0===Object.keys(a._state.deps).length&&b(c)},0)}function d(a){var c=f(),b=this;return r(c,[b],function(){return u(c,a(b()))},void 0)}function z(a){var c=f(),b=this;return r(c,[b],function(){return b._state.value},function(){return u(c,a(b._state.error))})}function n(c,b){if(b.length>b.filter(I).length)throw Error("Ensure that each item passed to m.prop.combine/m.prop.merge is a stream");return r(f(),b,function(){var d=b.filter(E);if(0<d.length)throw{__error:d[0]._state.error};
return c.apply(this,b.concat([b.filter(a)]))},void 0)}function u(a,c){if(null!=c&&c.constructor===f){var b=c,d=function(){k(a,b._state.value,b._state.error);for(var c in a._state.deps)m(a._state.deps[c],!1)};b.map(d)["catch"](function(a){d();throw{__error:a};});if(0===b._state.state)return F;if(b._state.error)throw{__error:b._state.error};c=b._state.value}return c}function r(a,c,b,d){var g=a._state;g.derive=b;g.recover=d;g.parents=c.filter(e);C(a,g.parents);m(a,!0);return a}function C(a,c){for(var b=
0;b<c.length;b++)c[b]._state.deps[a._state.id]=a,C(a,c[b]._state.parents)}function D(a){for(var c=0;c<a._state.parents.length;c++)delete a._state.parents[c]._state.deps[a._state.id];for(var b in a._state.deps){var c=a._state.deps[b],d=c._state.parents.indexOf(a);-1<d&&c._state.parents.splice(d,1)}a._state.state=2;a._state.deps={}}function w(a){return n(function(c){return a(c())},[this])}function y(a){return n(function(a,c){return a()(c())},[this,a])}function x(){return this._state.value}function J(){return null!=
this._state.value&&"function"===typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function I(a){return a._state}function c(a){return 1===a._state.state}function a(a){return a._state.changed}function e(a){return 2!==a._state.state}function E(a){return a._state.error}var H=0,G=function(){},F={};f.merge=function(a){return n(function(){return a.map(function(a){return a()})},a)};f.combine=n;f.reject=function(a){var c=f();c.error(a);return c};f.HALT=F;return f}(console.log.bind(console)),
E=function(b){function f(b,h){if(h instanceof Array)for(var m=0;m<h.length;m++)f(b+"["+m+"]",h[m]);else if("[object Object]"===Object.prototype.toString.call(h))for(m in h)f(b+"["+m+"]",h[m]);else p.push(encodeURIComponent(b)+(null!=h&&""!==h?"="+encodeURIComponent(h):""))}if("[object Object]"!==Object.prototype.toString.call(b))return"";var p=[],h;for(h in b)f(h,b[h]);return p.join("&")},G=function(b,f){function p(b,d){if(null==d)return b;for(var f=b.match(/:[^\/]+/gi)||[],h=0;h<f.length;h++){var k=
f[h].slice(1);null!=d[k]&&(b=b.replace(f[h],d[k]),delete d[k])}return b}function h(b,d){var f=E(d);if(""!==f){var h=0>b.indexOf("?")?"?":"&";b+=h+f}return b}function k(b){try{return""!==b?JSON.parse(b):null}catch(d){throw Error(b);}}function l(b){return b.responseText}function m(b,d){if("function"===typeof b)if(d instanceof Array)for(var f=0;f<d.length;f++)d[f]=new b(d[f]);else return new b(d);return d}var v=0,q;return{request:function(g){var d=f();void 0!==g.initialValue&&d(g.initialValue);var z=
"boolean"===typeof g.useBody?g.useBody:"GET"!==g.method&&"TRACE"!==g.method;"function"!==typeof g.serialize&&(g.serialize="undefined"!==typeof FormData&&g.data instanceof FormData?function(b){return b}:JSON.stringify);"function"!==typeof g.deserialize&&(g.deserialize=k);"function"!==typeof g.extract&&(g.extract=l);g.url=p(g.url,g.data);z?g.data=g.serialize(g.data):g.url=h(g.url,g.data);var n=new b.XMLHttpRequest;n.open(g.method,g.url,"boolean"===typeof g.async?g.async:!0,"string"===typeof g.user?
g.user:void 0,"string"===typeof g.password?g.password:void 0);g.serialize===JSON.stringify&&z&&n.setRequestHeader("Content-Type","application/json; charset=utf-8");g.deserialize===k&&n.setRequestHeader("Accept","application/json, text/*");"function"===typeof g.config&&(n=g.config(n,g)||n);n.onreadystatechange=function(){if(4===n.readyState){try{var b=g.extract!==l?g.extract(n,g):g.deserialize(g.extract(n,g));if(200<=n.status&&300>n.status||304===n.status)d(m(g.type,b));else{var f=Error(n.responseText),
h;for(h in b)f[h]=b[h];d.error(f)}}catch(k){d.error(k)}"function"===typeof q&&q()}};z?n.send(g.data):n.send();return d},jsonp:function(g){var d=f();void 0!==g.initialValue&&d(g.initialValue);var k=g.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+v++,n=b.document.createElement("script");b[k]=function(f){n.parentNode.removeChild(n);d(m(g.type,f));"function"===typeof q&&q();delete b[k]};n.onerror=function(){n.parentNode.removeChild(n);d.error(Error("JSONP request failed"));"function"===
typeof q&&q();delete b[k]};null==g.data&&(g.data={});g.url=p(g.url,g.data);g.data[g.callbackKey||"callback"]=k;n.src=h(g.url,g.data);b.document.documentElement.appendChild(n);return d},setCompletionCallback:function(b){q=b}}}(window,N),K=function(){var b=[];return{subscribe:b.push.bind(b),unsubscribe:function(f){f=b.indexOf(f);-1<f&&b.splice(f,1)},publish:function(){for(var f=0;f<b.length;f++)b[f].apply(this,arguments)}}}(),L=function(b){if(""===b||null==b)return{};"?"===b.charAt(0)&&(b=b.slice(1));
b=b.split("&");for(var f={},p={},h=0;h<b.length;h++){var k=b[h].split("="),l=decodeURIComponent(k[0]),k=2===k.length?decodeURIComponent(k[1]):"",m=Number(k);""!==k&&!isNaN(m)||"NaN"===k?k=m:"true"===k?k=!0:"false"===k?k=!1:"/"!==k.charAt(0)&&(m=new Date(k),isNaN(m.getTime())||(k=m));var m=l.split(/\]\[?|\[/),v=f;-1<l.indexOf("[")&&m.pop();for(var q=0;q<m.length;q++){var l=m[q],g=m[q+1],g=""==g||!isNaN(parseInt(g,10)),d=q===m.length-1;""===l&&(l=m.slice(0,q).join(),null==p[l]&&(p[l]=0),l=p[l]++);null==
v[l]&&(v[l]=d?k:g?[]:{});v=v[l]}}return f};G.setCompletionCallback(K.publish);var Q=function(b){var f=0,p=null,h="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(k){var l=Date.now();!0===k||0===f||16<=l-f?(f=l,b()):null===p&&(p=h(function(){p=null;b();f=Date.now()},16-(l-f)))}},R=function(b,f,p,h){h=Q(h);null!=f&&f.setEventCallback(function(b){!1!==b.redraw&&p.publish()});null!=p&&(b.redraw&&p.unsubscribe(b.redraw),p.subscribe(h));return b.redraw=h};y.mount=
function(b,f){return function(p,h){null===h?(b.render(p,[]),f.unsubscribe(p.redraw),delete p.redraw):R(p,b,f,function(){b.render(p,w(h,void 0,void 0,void 0,void 0,void 0))})()}}(M,K);var S=function(b){function f(d){var f=b.location[d].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===d&&"/"!==f[0]&&(f="/"+f);return f}function p(b){return function(){null==g&&(g=v(function(){g=null;b()}))}}function h(b,f,g){var h=b.indexOf("?"),k=b.indexOf("#"),l=-1<h?h:-1<k?k:b.length;if(-1<h){var h=
L(b.slice(h+1,-1<k?k:b.length)),m;for(m in h)f[m]=h[m]}if(-1<k)for(m in f=L(b.slice(k+1)),f)g[m]=f[m];return b.slice(0,l)}function k(){switch(q.charAt(0)){case "#":return f("hash").slice(q.length);case "?":return f("search").slice(q.length)+f("hash");default:return f("pathname").slice(q.length)+f("search")+f("hash")}}function l(d,f,g){var k={},r={};d=h(d,k,r);if(null!=f){for(var l in f)k[l]=f[l];d=d.replace(/:([^\/]+)/g,function(b,d){delete k[d];return f[d]})}(l=E(k))&&(d+="?"+l);(r=E(r))&&(d+="#"+
r);m?(g&&g.replace?b.history.replaceState(null,null,q+d):b.history.pushState(null,null,q+d),b.onpopstate()):b.location.href=q+d}var m="function"===typeof b.history.pushState,v="function"===typeof setImmediate?setImmediate:setTimeout,q="#!",g;return{setPrefix:function(b){q=b},getPath:k,setPath:l,defineRoutes:function(d,f,g){function l(){var b=k(),m={},p=h(b,m,m),q;for(q in d){var u=new RegExp("^"+q.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(p)){p.replace(u,function(){for(var g=
q.match(/:[^\/]+/g)||[],h=[].slice.call(arguments,1,-2),k=0;k<g.length;k++)m[g[k].replace(/:|\./g,"")]=decodeURIComponent(h[k]);f(d[q],m,b,q)});return}}g(b,m)}m?b.onpopstate=p(l):"#"===q.charAt(0)&&(b.onhashchange=l);l();return l},link:function(b){b.dom.setAttribute("href",q+b.attrs.href);b.dom.onclick=function(f){f.preventDefault();f.redraw=!1;l(b.attrs.href,void 0,void 0)}}}};y.route=function(b,f){function p(b){return b}var h=S(b),k,l,m,v,q,g={view:function(){return m(w(l,null,v,void 0,void 0,void 0))}},
d=function(b,d,u){l="div";m=p;v=null;f(b,g);h.defineRoutes(u,function(d,f,g){var h="function"!==typeof d.view,n=p,u=k=function(p){u===k&&(k=null,l=null!=p?p:h?"div":d,m=n,v=f,q=g,b.redraw(!0))},w=function(){u()};h&&("function"===typeof d.render&&(n=d.render.bind(d)),"function"===typeof d.onmatch&&(w=d.onmatch));w.call(d,u,f,g)},function(){h.setPath(d,null,{replace:!0})})};d.link=h.link;d.prefix=h.setPrefix;d.set=h.setPath;d.get=function(){return q};return d}(window,y.mount);y.withAttr=function(b,
f,p){return function(h){return f.call(p||this,b in h.currentTarget?h.currentTarget[b]:h.currentTarget.getAttribute(b))}};y.prop=N;y.render=M.render;y.redraw=K.publish;y.request=G.request;y.jsonp=G.jsonp;y.parseQueryString=L;y.buildQueryString=E;y.version="1.0.0";"undefined"!==typeof module?module.exports=y:window.m=y};
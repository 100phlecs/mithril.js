new function(){function u(b,e,q,g,k,m){return{tag:b,key:e,attrs:q,children:g,text:k,dom:m,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1}}function y(b){if(null==b||"string"!==typeof b&&null==b.view)throw Error("The selector must be either a string or a component.");if("string"===typeof b&&void 0===H[b]){for(var e,q,g=[],k={};e=O.exec(b);){var m=e[1],n=e[2];""===m&&""!==n?q=n:"#"===m?k.id=n:"."===m?g.push(n):"["===e[3][0]&&((m=e[6])&&(m=m.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),
k[e[4]]=m||!0)}0<g.length&&(k.className=g.join(" "));H[b]=function(b,d){var e=!1,g,h,m=b.className||b["class"],n;for(n in k)b[n]=k[n];void 0!==m&&(void 0!==b["class"]&&(b["class"]=void 0,b.className=m),void 0!==k.className&&(b.className=k.className+" "+m));for(n in b)if("key"!==n){e=!0;break}d instanceof Array&&1==d.length&&null!=d[0]&&"#"===d[0].tag?h=d[0].children:g=d;return u(q||"div",b.key,e?b:void 0,g,h,void 0)}}var l;null!=arguments[1]&&("object"!==typeof arguments[1]||void 0!==arguments[1].tag||
arguments[1]instanceof Array)?g=1:(l=arguments[1],g=2);if(arguments.length===g+1)e=arguments[g]instanceof Array?arguments[g]:[arguments[g]];else for(e=[];g<arguments.length;g++)e.push(arguments[g]);return"string"===typeof b?H[b](l||{},u.normalizeChildren(e)):u(b,l&&l.key,l||{},u.normalizeChildren(e),void 0,void 0)}u.normalize=function(b){return b instanceof Array?u("[",void 0,void 0,u.normalizeChildren(b),void 0,void 0):null!=b&&"object"!==typeof b?u("#",void 0,void 0,b,void 0,void 0):b};u.normalizeChildren=
function(b){for(var e=0;e<b.length;e++)b[e]=u.normalize(b[e]);return b};var O=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,H={};y.trust=function(b){return u("<",void 0,void 0,b,void 0,void 0)};y.fragment=function(b,e){return u("[",b.key,b,u.normalizeChildren(e),void 0,void 0)};var F=function(b){function e(c,a,f,d,b,e,p){for(;f<d;f++){var t=a[f];null!=t&&r(c,q(t,b,p),e)}}function q(c,a,f){var d=c.tag;null!=c.attrs&&y(c.attrs,c,a);if("string"===typeof d)switch(d){case "#":return c.dom=
x.createTextNode(c.children);case "<":return g(c);case "[":var b=x.createDocumentFragment();null!=c.children&&(d=c.children,e(b,d,0,d.length,a,null,f));c.dom=b.firstChild;c.domSize=b.childNodes.length;return b;default:var r=c.tag;switch(c.tag){case "svg":f="http://www.w3.org/2000/svg";break;case "math":f="http://www.w3.org/1998/Math/MathML"}var p=(d=c.attrs)&&d.is,r=f?p?x.createElementNS(f,r,{is:p}):x.createElementNS(f,r):p?x.createElement(r,{is:p}):x.createElement(r);c.dom=r;if(null!=d)for(b in p=
f,d)v(c,b,null,d[b],p);null!=c.text&&(""!==c.text?r.textContent=c.text:c.children=[u("#",void 0,void 0,c.text,void 0,void 0)]);null!=c.children&&(b=c.children,e(r,b,0,b.length,a,null,f),a=c.attrs,"select"===c.tag&&null!=a&&("value"in a&&v(c,"value",null,a.value,void 0),"selectedIndex"in a&&v(c,"selectedIndex",null,a.selectedIndex,void 0)));return r}else{c.state||(c.state={});P(c.state,c.tag);y(c.tag,c,a);c.instance=u.normalize(c.tag.view.call(c.state,c));if(null!=c.instance){if(c.instance===c)throw Error("A view cannot return the vnode it received as arguments");
a=q(c.instance,a,f);c.dom=c.instance.dom;c.domSize=null!=c.dom?c.instance.domSize:0;c=a}else c.domSize=0,c=D;return c}}function g(c){var a={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(c.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=x.createElement(a);a.innerHTML=c.children;c.dom=a.firstChild;c.domSize=a.childNodes.length;c=x.createDocumentFragment();for(var f;f=a.firstChild;)c.appendChild(f);return c}function k(c,a,f,b,
h,g){if(a!==f&&(null!=a||null!=f))if(null==a)e(c,f,0,f.length,b,h,void 0);else if(null==f)d(c,a,0,a.length,f);else{var p;a:{if(null!=a.pool&&Math.abs(a.pool.length-f.length)<=Math.abs(a.length-f.length)&&(p=f[0]&&f[0].children&&f[0].children.length||0,Math.abs((a.pool[0]&&a.pool[0].children&&a.pool[0].children.length||0)-p)<=Math.abs((a[0]&&a[0].children&&a[0].children.length||0)-p))){p=!0;break a}p=!1}p&&(a=a.concat(a.pool));if(a.length===f.length&&null!=f[0]&&null==f[0].key)for(var t=0;t<a.length;t++)a[t]===
f[t]||null==a[t]&&null==f[t]||(null==a[t]?r(c,q(f[t],b,g),l(a,t+1,h)):null==f[t]?d(c,a,t,t+1,f):m(c,a[t],f[t],b,l(a,t+1,h),p,g),p&&a[t].tag===f[t].tag&&r(c,n(a[t]),l(a,t+1,h)));else{for(var B=t=0,k=a.length-1,z=f.length-1,A;k>=t&&z>=B;){var v=a[t],w=f[B];if(v===w)t++,B++;else if(null!=v&&null!=w&&v.key===w.key)t++,B++,m(c,v,w,b,l(a,t,h),p,g),p&&v.tag===w.tag&&r(c,n(v),h);else if(v=a[k],v===w)k--,B++;else if(null!=v&&null!=w&&v.key===w.key)m(c,v,w,b,l(a,k+1,h),p,g),B<z&&r(c,n(v),l(a,t,h)),k--,B++;
else break}for(;k>=t&&z>=B;){v=a[k];w=f[z];if(v===w)k--;else if(null!=v&&null!=w&&v.key===w.key)m(c,v,w,b,l(a,k+1,h),p,g),p&&v.tag===w.tag&&r(c,n(v),h),null!=v.dom&&(h=v.dom),k--;else{if(!A){A=a;var v=k,u={},x;for(x=0;x<v;x++){var C=A[x];null!=C&&(C=C.key,null!=C&&(u[C]=x))}A=u}null!=w&&(v=A[w.key],null!=v?(u=a[v],m(c,u,w,b,l(a,k+1,h),p,g),r(c,n(u),h),a[v].skip=!0,null!=u.dom&&(h=u.dom)):(w=q(w,b,void 0),r(c,w,h),h=w))}z--;if(z<B)break}e(c,f,B,z+1,b,h,g);d(c,a,t,k+1,f)}}}function m(c,a,f,d,b,e,p){var t=
a.tag;if(t===f.tag){f.state=a.state;f.events=a.events;var h;var A;null!=f.attrs&&"function"===typeof f.attrs.onbeforeupdate&&(h=f.attrs.onbeforeupdate.call(f.state,f,a));"string"!==typeof f.tag&&"function"===typeof f.tag.onbeforeupdate&&(A=f.tag.onbeforeupdate.call(f.state,f,a));void 0===h&&void 0===A||h||A?h=!1:(f.dom=a.dom,f.domSize=a.domSize,f.instance=a.instance,h=!0);if(!h)if(null!=f.attrs&&J(f.attrs,f,d,e),"string"===typeof t)switch(t){case "#":a.children.toString()!==f.children.toString()&&
(a.dom.nodeValue=f.children);f.dom=a.dom;break;case "<":a.children!==f.children?(n(a),r(c,g(f),b)):(f.dom=a.dom,f.domSize=a.domSize);break;case "[":k(c,a.children,f.children,d,b,p);a=0;d=f.children;f.dom=null;if(null!=d){for(var l=0;l<d.length;l++)c=d[l],null!=c&&null!=c.dom&&(null==f.dom&&(f.dom=c.dom),a+=c.domSize||1);1!==a&&(f.domSize=a)}break;default:c=p;b=f.dom=a.dom;switch(f.tag){case "svg":c="http://www.w3.org/2000/svg";break;case "math":c="http://www.w3.org/1998/Math/MathML"}"textarea"===
f.tag&&(null==f.attrs&&(f.attrs={}),null!=f.text&&(f.attrs.value=f.text));e=a.attrs;p=f.attrs;t=c;if(null!=p)for(l in p)v(f,l,e&&e[l],p[l],t);if(null!=e)for(l in e)null!=p&&l in p||("o"!==l[0]||"n"!==l[1]||w(l)?"key"!==l&&f.dom.removeAttribute(l):C(f,l,void 0));null!=a.text&&null!=f.text&&""!==f.text?a.text.toString()!==f.text.toString()&&(a.dom.firstChild.nodeValue=f.text):(null!=a.text&&(a.children=[u("#",void 0,void 0,a.text,void 0,a.dom.firstChild)]),null!=f.text&&(f.children=[u("#",void 0,void 0,
f.text,void 0,void 0)]),k(b,a.children,f.children,d,null,c))}else f.instance=u.normalize(f.tag.view.call(f.state,f)),J(f.tag,f,d,e),null!=f.instance?(null==a.instance?r(c,q(f.instance,d,p),b):m(c,a.instance,f.instance,d,b,e,p),f.dom=f.instance.dom,f.domSize=f.instance.domSize):null!=a.instance?(z(c,a.instance,null),f.dom=void 0,f.domSize=0):(f.dom=a.dom,f.domSize=a.domSize)}else z(c,a,null),r(c,q(f,d,void 0),b)}function n(c){var a=c.domSize;if(null!=a||null==c.dom){var f=x.createDocumentFragment();
if(0<a){for(c=c.dom;--a;)f.appendChild(c.nextSibling);f.insertBefore(c,f.firstChild)}return f}return c.dom}function l(c,a,f){for(;a<c.length;a++)if(null!=c[a]&&null!=c[a].dom)return c[a].dom;return f}function r(c,a,f){f&&f.parentNode?c.insertBefore(a,f):c.appendChild(a)}function d(c,a,f,d,b){for(;f<d;f++){var e=a[f];null!=e&&(e.skip?e.skip=!1:z(c,e,b))}}function A(c){var a=!1;return function(){a||(a=!0,c())}}function z(c,a,f){function d(){if(++e===b&&(h(a),a.dom)){var p=a.domSize||1;if(1<p)for(var t=
a.dom;--p;)c.removeChild(t.nextSibling);null!=a.dom.parentNode&&c.removeChild(a.dom);if(p=null!=f&&null==a.domSize)p=a.attrs,p=!(null!=p&&(p.oncreate||p.onupdate||p.onbeforeremove||p.onremove));p&&"string"===typeof a.tag&&(f.pool?f.pool.push(a):f.pool=[a])}}var b=1,e=0;a.attrs&&a.attrs.onbeforeremove&&(b++,a.attrs.onbeforeremove.call(a.state,a,A(d)));"string"!==typeof a.tag&&a.tag.onbeforeremove&&(b++,a.tag.onbeforeremove.call(a.state,a,A(d)));d()}function h(c){c.attrs&&c.attrs.onremove&&c.attrs.onremove.call(c.state,
c);"string"!==typeof c.tag&&c.tag.onremove&&c.tag.onremove.call(c.state,c);if(null!=c.instance)h(c.instance);else if(c=c.children,c instanceof Array)for(var a=0;a<c.length;a++){var d=c[a];null!=d&&h(d)}}function v(c,a,d,b,e){var h=c.dom;if("key"!==a&&(d!==b||"value"===a||"checked"===a||"selectedIndex"===a||"selected"===a&&c.dom===x.activeElement||"object"===typeof b)&&"undefined"!==typeof b&&!w(a)){var p=a.indexOf(":");if(-1<p&&"xlink"===a.substr(0,p))h.setAttributeNS("http://www.w3.org/1999/xlink",
a.slice(p+1),b);else if("o"===a[0]&&"n"===a[1]&&"function"===typeof b)C(c,a,b);else if("style"===a)if(c=d,c===b&&(h.style.cssText="",c=null),null==b)h.style.cssText="";else if("string"===typeof b)h.style.cssText=b;else{"string"===typeof c&&(h.style.cssText="");for(var t in b)h.style[t]=b[t];if(null!=c&&"string"!==typeof c)for(t in c)t in b||(h.style[t]="")}else if(a in h&&"href"!==a&&"list"!==a&&"form"!==a&&void 0===e){if("input"!==c.tag||"value"!==a||c.dom.value!==b||c.dom!==x.activeElement)h[a]=
b}else"boolean"===typeof b?b?h.setAttribute(a,""):h.removeAttribute(a):h.setAttribute("className"===a?"class":a,b)}}function w(c){return"oninit"===c||"oncreate"===c||"onupdate"===c||"onremove"===c||"onbeforeremove"===c||"onbeforeupdate"===c}function C(c,a,d){var b=c.dom,e=function(a){var c=d.call(b,a);"function"===typeof I&&I.call(b,a);return c};if(a in b)b[a]=e;else{var h=a.slice(2);void 0===c.events&&(c.events={});null!=c.events[a]&&b.removeEventListener(h,c.events[a],!1);"function"===typeof d&&
(c.events[a]=e,b.addEventListener(h,c.events[a],!1))}}function y(c,a,b){"function"===typeof c.oninit&&c.oninit.call(a.state,a);"function"===typeof c.oncreate&&b.push(c.oncreate.bind(a.state,a))}function J(c,a,b,d){d?y(c,a,b):"function"===typeof c.onupdate&&b.push(c.onupdate.bind(a.state,a))}function P(c,a){Object.keys(a).forEach(function(b){c[b]=a[b]})}var x=b.document,D=x.createDocumentFragment(),I;return{render:function(c,a){var b=[],d=x.activeElement;null==c.vnodes&&(c.textContent="");a instanceof
Array||(a=[a]);k(c,c.vnodes,u.normalizeChildren(a),b,null,void 0);c.vnodes=a;for(var e=0;e<b.length;e++)b[e]();x.activeElement!==d&&d.focus()},setEventCallback:function(c){return I=c}}}(window),M=function(b){function e(){function a(){0<arguments.length&&arguments[0]!==E&&g(a,arguments[0],void 0);return a._state.value}q(a,arguments);0<arguments.length&&arguments[0]!==E&&g(a,arguments[0],void 0);return a}function q(a,c){a.constructor=e;a._state={id:H++,value:void 0,error:void 0,state:0,derive:void 0,
recover:void 0,deps:{},parents:[],errorStream:void 0,endStream:void 0};a.map=J;a.ap=D;a.of=e;a.valueOf=x;a.toJSON=G;a.toString=x;a.run=A;a["catch"]=z;Object.defineProperties(a,{error:{get:function(){if(!a._state.errorStream){var c=function(){0<arguments.length&&arguments[0]!==E&&g(a,void 0,arguments[0]);return a._state.error};q(c,[]);w(c,[a],F,F);a._state.errorStream=c}return a._state.errorStream}},end:{get:function(){if(!a._state.endStream){var c=e();c.map(function(b){!0===b&&(y(a),y(c));return b});
a._state.endStream=c}return a._state.endStream}}})}function g(a,c,b){k(a,c,b);for(var d in a._state.deps)n(a._state.deps[d],!1);a._state.changed=!1;for(var f in a._state.deps)a._state.deps[f]._state.changed=!1}function k(a,c,b){b=r(c,b);if(void 0!==b&&"function"===typeof a._state.recover){if(!l(a,m,!0))return}else m(a,c,b);a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function m(a,c,b){a._state.value=c;a._state.error=b}function n(a,b){var d=a._state.parents;0<d.length&&d.filter(I).length===
d.length&&(b||0<d.filter(c).length)&&(d=d.filter(f),0<d.length?k(a,void 0,d[0]._state.error):l(a,k,!1))}function l(a,c,b){try{var f=b?a._state.recover():a._state.derive();if(f===E)return!1;c(a,f,void 0)}catch(e){c(a,void 0,null!=e.__error?e.__error:e),null==e.__error&&d(a,e)}return!0}function r(a,c){null!=a&&a.constructor===e&&(c=void 0!==a._state.error?a._state.error:r(a._state.value,a._state.error));return c}function d(a,c){0===Object.keys(a._state.deps).length&&setTimeout(function(){0===Object.keys(a._state.deps).length&&
b(c)},0)}function A(a){var c=e(),b=this;return w(c,[b],function(){return v(c,a(b()))},void 0)}function z(a){var c=e(),b=this;return w(c,[b],function(){return b._state.value},function(){return v(c,a(b._state.error))})}function h(a,b){return w(e(),b,function(){var d=b.filter(f);if(0<d.length)throw{__error:d[0]._state.error};return a.apply(this,b.concat([b.filter(c)]))},void 0)}function v(a,c){if(null!=c&&c.constructor===e){var b=c,d=function(){k(a,b._state.value,b._state.error);for(var c in a._state.deps)n(a._state.deps[c],
!1)};b.map(d)["catch"](function(a){d();throw{__error:a};});if(0===b._state.state)return E;if(b._state.error)throw{__error:b._state.error};c=b._state.value}return c}function w(c,b,d,f){var e=c._state;e.derive=d;e.recover=f;e.parents=b.filter(a);u(c,e.parents);n(c,!0);return c}function u(a,c){for(var b=0;b<c.length;b++)c[b]._state.deps[a._state.id]=a,u(a,c[b]._state.parents)}function y(a){for(var c=0;c<a._state.parents.length;c++)delete a._state.parents[c]._state.deps[a._state.id];for(var b in a._state.deps){var c=
a._state.deps[b],d=c._state.parents.indexOf(a);-1<d&&c._state.parents.splice(d,1)}a._state.state=2;a._state.deps={}}function J(a){return h(function(c){return a(c())},[this])}function D(a){return h(function(a,c){return a()(c())},[this,a])}function x(){return this._state.value}function G(){return null!=this._state.value&&"function"===typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function I(a){return 1===a._state.state}function c(a){return a._state.changed}function a(a){return 2!==
a._state.state}function f(a){return a._state.error}var H=0,F=function(){},E={};e.merge=function(a){return h(function(){return a.map(function(a){return a()})},a)};e.combine=h;e.reject=function(a){var c=e();c.error(a);return c};e.HALT=E;return e}(console.log.bind(console)),D=function(b){function e(b,g){if(g instanceof Array)for(var n=0;n<g.length;n++)e(b+"["+n+"]",g[n]);else if("[object Object]"===Object.prototype.toString.call(g))for(n in g)e(b+"["+n+"]",g[n]);else q.push(encodeURIComponent(b)+(null!=
g&&""!==g?"="+encodeURIComponent(g):""))}if("[object Object]"!==Object.prototype.toString.call(b))return"";var q=[],g;for(g in b)e(g,b[g]);return q.join("&")},K=function(b,e){function q(b,e){if(null==e)return b;for(var g=b.match(/:[^\/]+/gi)||[],h=0;h<g.length;h++){var r=g[h].slice(1);null!=e[r]&&(b=b.replace(g[h],e[r]),delete e[r])}return b}function g(b,e){var g=D(e);if(""!==g){var h=0>b.indexOf("?")?"?":"&";b+=h+g}return b}function k(b){try{return""!==b?JSON.parse(b):null}catch(e){throw Error(b);
}}function m(b){return b.responseText}function n(b,e){if("function"===typeof b)if(e instanceof Array)for(var g=0;g<e.length;g++)e[g]=new b(e[g]);else return new b(e);return e}var l=0,r;return{request:function(d){var l=e();void 0!==d.initialValue&&l(d.initialValue);var z="boolean"===typeof d.useBody?d.useBody:"GET"!==d.method&&"TRACE"!==d.method;"function"!==typeof d.serialize&&(d.serialize="undefined"!==typeof FormData&&d.data instanceof FormData?function(b){return b}:JSON.stringify);"function"!==
typeof d.deserialize&&(d.deserialize=k);"function"!==typeof d.extract&&(d.extract=m);d.url=q(d.url,d.data);z?d.data=d.serialize(d.data):d.url=g(d.url,d.data);var h=new b.XMLHttpRequest;h.open(d.method,d.url,"boolean"===typeof d.async?d.async:!0,"string"===typeof d.user?d.user:void 0,"string"===typeof d.password?d.password:void 0);d.serialize===JSON.stringify&&z&&h.setRequestHeader("Content-Type","application/json; charset=utf-8");d.deserialize===k&&h.setRequestHeader("Accept","application/json, text/*");
"function"===typeof d.config&&(h=d.config(h,d)||h);h.onreadystatechange=function(){if(4===h.readyState){try{var b=d.extract!==m?d.extract(h,d):d.deserialize(d.extract(h,d));if(200<=h.status&&300>h.status)l(n(d.type,b));else{var e=Error(h.responseText),g;for(g in b)e[g]=b[g];l.error(e)}}catch(k){l.error(k)}"function"===typeof r&&r()}};z?h.send(d.data):h.send();return l},jsonp:function(d){var k=e();void 0!==d.initialValue&&k(d.initialValue);var m=d.callbackName||"_mithril_"+Math.round(1E16*Math.random())+
"_"+l++,h=b.document.createElement("script");b[m]=function(e){h.parentNode.removeChild(h);k(n(d.type,e));"function"===typeof r&&r();delete b[m]};h.onerror=function(){h.parentNode.removeChild(h);k.error(Error("JSONP request failed"));"function"===typeof r&&r();delete b[m]};null==d.data&&(d.data={});d.url=q(d.url,d.data);d.data[d.callbackKey||"callback"]=m;h.src=g(d.url,d.data);b.document.documentElement.appendChild(h);return k},setCompletionCallback:function(b){r=b}}}(window,M),G=function(){var b=
[];return{subscribe:b.push.bind(b),unsubscribe:function(e){e=b.indexOf(e);-1<e&&b.splice(e,1)},publish:function(){for(var e=0;e<b.length;e++)b[e].apply(this,arguments)}}}(),L=function(b){if(""===b||null==b)return{};"?"===b.charAt(0)&&(b=b.slice(1));b=b.split("&");for(var e={},q={},g=0;g<b.length;g++){var k=b[g].split("="),m=decodeURIComponent(k[0]),k=2===k.length?decodeURIComponent(k[1]):"",n=Number(k);""!==k&&!isNaN(n)||"NaN"===k?k=n:"true"===k?k=!0:"false"===k?k=!1:(n=new Date(k),isNaN(n.getTime())||
(k=n));var n=m.split(/\]\[?|\[/),l=e;-1<m.indexOf("[")&&n.pop();for(var r=0;r<n.length;r++){var m=n[r],d=n[r+1],d=""==d||!isNaN(parseInt(d,10)),u=r===n.length-1;""===m&&(m=n.slice(0,r).join(),null==q[m]&&(q[m]=0),m=q[m]++);null==l[m]&&(l[m]=u?k:d?[]:{});l=l[m]}}return e};K.setCompletionCallback(G.publish);var Q=function(b){function e(e){var d=b.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===e&&"/"!==d[0]&&(d="/"+d);return d}function q(b,d,e){var g=b.indexOf("?"),h=
b.indexOf("#"),k=-1<g?g:-1<h?h:b.length;if(-1<g){var g=L(b.slice(g+1,-1<h?h:b.length)),l;for(l in g)d[l]=g[l]}if(-1<h)for(l in d=L(b.slice(h+1)),d)e[l]=d[l];return b.slice(0,k)}function g(){switch(l.charAt(0)){case "#":return e("hash").slice(l.length);case "?":return e("search").slice(l.length)+e("hash");default:return e("pathname").slice(l.length)+e("search")+e("hash")}}function k(e,d,g){var k={},h={};e=q(e,k,h);if(null!=d){for(var n in d)k[n]=d[n];e=e.replace(/:([^\/]+)/g,function(b,e){delete k[e];
return d[e]})}(n=D(k))&&(e+="?"+n);(h=D(h))&&(e+="#"+h);m?(g&&g.replace?b.history.replaceState(null,null,l+e):b.history.pushState(null,null,l+e),b.onpopstate()):b.location.href=l+e}var m="function"===typeof b.history.pushState,n="function"===typeof setImmediate?setImmediate:setTimeout,l="#!";return{setPrefix:function(b){l=b},getPath:g,setPath:k,defineRoutes:function(e,d,k){function u(){var b=g(),l={},m=q(b,l,l);n(function(){for(var g in e){var n=new RegExp("^"+g.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,
"([^\\/]+)")+"/?$");if(n.test(m)){m.replace(n,function(){for(var k=g.match(/:[^\/]+/g)||[],n=[].slice.call(arguments,1,-2),m=0;m<k.length;m++)l[k[m].replace(/:|\./g,"")]=decodeURIComponent(n[m]);d(e[g],l,b,g)});return}}k(b,l)})}m?b.onpopstate=u:"#"===l.charAt(0)&&(b.onhashchange=u);u();return u},link:function(b){b.dom.setAttribute("href",l+b.attrs.href);b.dom.onclick=function(d){d.preventDefault();d.redraw=!1;k(b.attrs.href,void 0,void 0)}}}},R=function(b){var e=0,q=null,g="function"===typeof requestAnimationFrame?
requestAnimationFrame:setTimeout;return function(k){var m=Date.now();!0===k||0===e||16<=m-e?(e=m,b()):null===q&&(q=g(function(){q=null;b();e=Date.now()},16-(m-e)))}},N=function(b,e,q,g){g=R(g);null!=e&&e.setEventCallback(function(b){!1!==b.redraw&&q.publish()});null!=q&&(b.redraw&&q.unsubscribe(b.redraw),q.subscribe(g));return b.redraw=g};y.route=function(b,e,q){var g=Q(b);b=function(b,m,n){var l=null,r="div";n=g.defineRoutes(n,function(d,g,m,h){function n(h){q||(q=!0,l=m,r=h,e.render(b,d.render(u(h,
null,g,void 0,void 0,void 0))))}var q=!1;g.path=m;g.route=h;if("function"!==typeof d.view)if("function"!==typeof d.render&&(d.render=function(b){return b}),"function"!==typeof d.onmatch&&(d.onmatch=function(){n(r)}),m!==l)d.onmatch(u(d,null,g,void 0,void 0,void 0),n);else n(r);else e.render(b,u(d,null,g,void 0,void 0,void 0))},function(){g.setPath(m,null,{replace:!0})});N(b,e,q,n)};b.link=g.link;b.prefix=g.setPrefix;b.set=g.setPath;b.get=g.getPath;return b}(window,F,G);y.mount=function(b,e){return function(q,
g){null===g?(b.render(q,[]),e.unsubscribe(q.redraw),delete q.redraw):N(q,b,e,function(){b.render(q,u(g,void 0,void 0,void 0,void 0,void 0))})()}}(F,G);y.withAttr=function(b,e,q){return function(g){return e.call(q||this,b in g.currentTarget?g.currentTarget[b]:g.currentTarget.getAttribute(b))}};y.prop=M;y.render=F.render;y.redraw=G.publish;y.request=K.request;y.jsonp=K.jsonp;y.parseQueryString=L;y.buildQueryString=D;y.version="1.0.0";"undefined"!==typeof module?module.exports=y:window.m=y};
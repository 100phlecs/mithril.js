new function(){function y(){function a(){0<arguments.length&&arguments[0]!==D&&I(a,arguments[0],void 0);return a._state.value}O(a,arguments);0<arguments.length&&arguments[0]!==D&&I(a,arguments[0],void 0);return a}function O(a,b){a.constructor=y;a._state={id:ba++,value:void 0,error:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],errorStream:void 0,endStream:void 0};a.map=ca;a.ap=da;a.of=y;a.valueOf=P;a.toJSON=ea;a.toString=P;a.run=fa;a["catch"]=ga;Object.defineProperties(a,{error:{get:function(){if(!a._state.errorStream){var b=
function(){0<arguments.length&&arguments[0]!==D&&I(a,void 0,arguments[0]);return a._state.error};O(b,[]);E(b,[a],Q,Q);a._state.errorStream=b}return a._state.errorStream}},end:{get:function(){if(!a._state.endStream){var b=y();b.map(function(e){!0===e&&(R(a),R(b));return e});a._state.endStream=b}return a._state.endStream}}})}function I(a,b,d){F(a,b,d);for(var e in a._state.deps)J(a._state.deps[e],!1);a._state.changed=!1;for(var k in a._state.deps)a._state.deps[k]._state.changed=!1}function F(a,b,d){d=
S(b,d);if(void 0!==d&&"function"===typeof a._state.recover){if(!T(a,U,!0))return}else U(a,b,d);a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function U(a,b,d){a._state.value=b;a._state.error=d}function J(a,b){var d=a._state.parents;0<d.length&&d.filter(ha).length===d.length&&(b||0<d.filter(V).length)&&(d=d.filter(W),0<d.length?F(a,void 0,d[0]._state.error):T(a,F,!1))}function T(a,b,d){try{var e=d?a._state.recover():a._state.derive();if(e===D)return!1;b(a,e,void 0)}catch(k){b(a,void 0,
k),ia(a,k)}return!0}function S(a,b){null!=a&&a.constructor===y&&(b=void 0!==a._state.error?a._state.error:S(a._state.value,a._state.error));return b}function ia(a,b){0===Object.keys(a._state.deps).length&&null==a._state.derive&&setTimeout(function(){0===Object.keys(a._state.deps).length&&console.error(b)},0)}function fa(a){var b=y(),d=this;return E(b,[d],function(){return X(b,a(d()))},void 0)}function ga(a){var b=y(),d=this;return E(b,[d],function(){return d._state.value},function(){return X(b,a(d._state.error))})}
function G(a,b){return E(y(),b,function(){var d=b.filter(W);if(0<d.length)throw d[0]._state.error;return a.apply(this,b.concat([b.filter(V)]))},void 0)}function X(a,b){if(null!=b&&b.constructor===y){var d=b,e=function(){F(a,d._state.value,d._state.error);for(var b in a._state.deps)J(a._state.deps[b],!1)};d.map(e)["catch"](function(a){e();throw a;});if(0===d._state.state)return D;if(d._state.error)throw d._state.error;b=d._state.value}return b}function E(a,b,d,e){var k=a._state;k.derive=d;k.recover=
e;k.parents=b.filter(ja);Y(a,k.parents);J(a,!0);return a}function Y(a,b){for(var d=0;d<b.length;d++)b[d]._state.deps[a._state.id]=a,Y(a,b[d]._state.parents)}function R(a){for(var b=0;b<a._state.parents.length;b++)delete a._state.parents[b]._state.deps[a._state.id];for(var d in a._state.deps){var b=a._state.deps[d],e=b._state.parents.indexOf(a);-1<e&&b._state.parents.splice(e,1)}a._state.state=2;a._state.deps={}}function ca(a){return G(function(b){return a(b())},[this])}function da(a){return G(function(a,
d){return a()(d())},[this,a])}function P(){return this._state.value}function ea(){return JSON.stringify(this._state.value)}function ha(a){return 1===a._state.state}function V(a){return a._state.changed}function ja(a){return 2!==a._state.state}function W(a){return a._state.error}function u(a,b,d,e,k,q){return{tag:a,key:b,attrs:d,children:e,text:k,dom:q,domSize:void 0,state:{},events:void 0,instance:void 0}}var ba=0,Q=function(){},D={},C={stream:y,merge:function(a){return G(function(){return a.map(function(a){return a()})},
a)},combine:G,reject:function(a){var b=y();b.error(a);return b},HALT:D};u.normalize=function(a){return a instanceof Array?u("[",void 0,void 0,u.normalizeChildren(a),void 0,void 0):null!=a&&"object"!==typeof a?u("#",void 0,void 0,a,void 0,void 0):a};u.normalizeChildren=function(a){for(var b=0;b<a.length;b++)a[b]=u.normalize(a[b]);return a};var ka=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,K={},n=function(a){if("string"===typeof a&&void 0===K[a]){for(var b,d,e=[],
k={};b=ka.exec(a);){var q=b[1],l=b[2];""===q&&""!==l?d=l:"#"===q?k.id=l:"."===q?e.push(l):"["===b[3][0]&&((q=b[6])&&(q=q.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),k[b[4]]=q||!0)}0<e.length&&(k.className=e.join(" "));K[a]=function(a,b){var e=!1,h,q,m=a.className||a["class"],l;for(l in k)a[l]=k[l];void 0!==m&&(void 0!==a["class"]&&(a["class"]=void 0,a.className=m),void 0!==k.className&&(a.className=k.className+" "+m));for(l in a)if("key"!==l){e=!0;break}b instanceof Array&&1==b.length&&null!=
b[0]&&"#"===b[0].tag?q=b[0].children:h=b;return u(d||"div",a.key,e?a:void 0,h,q,void 0)}}var m;null!=arguments[1]&&("object"!==typeof arguments[1]||void 0!==arguments[1].tag||arguments[1]instanceof Array)?e=1:(m=arguments[1],e=2);if(arguments.length===e+1)b=arguments[e]instanceof Array?arguments[e]:[arguments[e]];else for(b=[];e<arguments.length;e++)b.push(arguments[e]);return"string"===typeof a?K[a](m||{},u.normalizeChildren(b)):u(a,m&&m.key,m||{},u.normalizeChildren(b),void 0,void 0)},L=function(a){function b(a,
c,f,b,e,p,h){for(;f<b;f++){var k=c[f];null!=k&&g(a,d(k,e,h),p)}}function d(a,c,f){var g=a.tag;null!=a.attrs&&n(a.attrs,a,c);if("string"===typeof g)switch(g){case "#":return a.dom=x.createTextNode(a.children);case "<":return e(a);case "[":var p=x.createDocumentFragment();null!=a.children&&(g=a.children,b(p,g,0,g.length,c,null,f));a.dom=p.firstChild;a.domSize=p.childNodes.length;return p;default:var h=a.tag;switch(a.tag){case "svg":f="http://www.w3.org/2000/svg";break;case "math":f="http://www.w3.org/1998/Math/MathML"}var k=
(g=a.attrs)&&g.is,h=f?k?x.createElementNS(f,h,k):x.createElementNS(f,h):k?x.createElement(h,k):x.createElement(h);a.dom=h;if(null!=g)for(p in k=f,g)A(a,p,null,g[p],k);null!=a.text&&(""!==a.text?h.textContent=a.text:a.children=[u("#",void 0,void 0,a.text,void 0,void 0)]);null!=a.children&&(p=a.children,b(h,p,0,p.length,c,null,f),c=a.attrs,"select"===a.tag&&null!=c&&("value"in c&&A(a,"value",null,c.value,void 0),"selectedIndex"in c&&A(a,"selectedIndex",null,c.selectedIndex,void 0)));return h}else return a.state=
C(a.tag),n(a.tag,a,c),a.instance=u.normalize(a.tag.view.call(a.state,a)),null!=a.instance?(c=d(a.instance,c,f),a.dom=a.instance.dom,a.domSize=null!=a.dom?a.instance.domSize:0,a=c):(a.domSize=0,a=D),a}function e(a){var c={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(a.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",c=x.createElement(c);c.innerHTML=a.children;a.dom=c.firstChild;a.domSize=c.childNodes.length;a=x.createDocumentFragment();
for(var f;f=c.firstChild;)a.appendChild(f);return a}function k(a,c,f,e,h,k){if(c!==f&&(null!=c||null!=f))if(null==c)b(a,f,0,f.length,e,h,void 0);else if(null==f)p(a,c,0,c.length,f);else{var z;a:{if(null!=c.pool&&Math.abs(c.pool.length-f.length)<=Math.abs(c.length-f.length)&&(z=f[0]&&f[0].children&&f[0].children.length||0,Math.abs((c.pool[0]&&c.pool[0].children&&c.pool[0].children.length||0)-z)<=Math.abs((c[0]&&c[0].children&&c[0].children.length||0)-z))){z=!0;break a}z=!1}z&&(c=c.concat(c.pool));
if(c.length===f.length&&null!=f[0]&&null==f[0].key)for(var r=0;r<c.length;r++)c[r]===f[r]||null==c[r]&&null==f[r]||(null==c[r]?g(a,d(f[r],e,k),m(c,r+1,h)):null==f[r]?p(a,c,r,r+1,f):q(a,c[r],f[r],e,m(c,r+1,h),z,k),z&&c[r].tag===f[r].tag&&g(a,l(c[r]),m(c,r+1,h)));else{for(var A=r=0,v=c.length-1,B=f.length-1,u;v>=r&&B>=A;){var t=c[r],w=f[A];if(t===w)r++,A++;else if(null!=t&&null!=w&&t.key===w.key)r++,A++,q(a,t,w,e,m(c,r,h),z,k),z&&t.tag===w.tag&&g(a,l(t),h);else if(t=c[v],t===w)v--,A++;else if(null!=
t&&null!=w&&t.key===w.key)q(a,t,w,e,m(c,v+1,h),z,k),A<B&&g(a,l(t),m(c,r,h)),v--,A++;else break}for(;v>=r&&B>=A;){t=c[v];w=f[B];if(t===w)v--;else if(null!=t&&null!=w&&t.key===w.key)q(a,t,w,e,m(c,v+1,h),z,k),z&&t.tag===w.tag&&g(a,l(t),h),null!=t.dom&&(h=t.dom),v--;else{if(!u){u=c;var t=v,n={},x;for(x=0;x<t;x++){var y=u[x];null!=y&&(y=y.key,null!=y&&(n[y]=x))}u=n}null!=w&&(t=u[w.key],null!=t?(n=c[t],q(a,n,w,e,m(c,v+1,h),z,k),g(a,l(n),h),c[t].skip=!0,null!=n.dom&&(h=n.dom)):(w=d(w,e,void 0),g(a,w,h),
h=w))}B--;if(B<A)break}b(a,f,A,B+1,e,h,k);p(a,c,r,v+1,f)}}}function q(a,c,f,b,h,p,m){var r=c.tag;if(r===f.tag){f.state=c.state;f.events=c.events;var v;var B;null!=f.attrs&&"function"===typeof f.attrs.onbeforeupdate&&(v=f.attrs.onbeforeupdate.call(f.state,f,c));"string"!==typeof f.tag&&"function"===typeof f.tag.onbeforeupdate&&(B=f.tag.onbeforeupdate.call(f.state,f,c));void 0===v&&void 0===B||v||B?v=!1:(f.dom=c.dom,f.domSize=c.domSize,f.instance=c.instance,v=!0);if(!v)if(null!=f.attrs&&y(f.attrs,f,
b,p),"string"===typeof r)switch(r){case "#":c.children.toString()!==f.children.toString()&&(c.dom.nodeValue=f.children);f.dom=c.dom;break;case "<":c.children!==f.children?(l(c),g(a,e(f),h)):(f.dom=c.dom,f.domSize=c.domSize);break;case "[":k(a,c.children,f.children,b,h,m);c=0;b=f.children;f.dom=null;if(null!=b){for(var n=0;n<b.length;n++)a=b[n],null!=a&&null!=a.dom&&(null==f.dom&&(f.dom=a.dom),c+=a.domSize||1);1!==c&&(f.domSize=c)}break;default:a=m;h=f.dom=c.dom;switch(f.tag){case "svg":a="http://www.w3.org/2000/svg";
break;case "math":a="http://www.w3.org/1998/Math/MathML"}"textarea"===f.tag&&(null==f.attrs&&(f.attrs={}),null!=f.text&&(f.attrs.value=f.text));p=c.attrs;m=f.attrs;r=a;if(null!=m)for(n in m)A(f,n,p&&p[n],m[n],r);if(null!=p)for(n in p)null!=m&&n in m||"key"!==n&&f.dom.removeAttribute(n);null!=c.text&&null!=f.text&&""!==f.text?c.text.toString()!==f.text.toString()&&(c.dom.firstChild.nodeValue=f.text):(null!=c.text&&(c.children=[u("#",void 0,void 0,c.text,void 0,c.dom.firstChild)]),null!=f.text&&(f.children=
[u("#",void 0,void 0,f.text,void 0,void 0)]),k(h,c.children,f.children,b,null,a))}else f.instance=u.normalize(f.tag.view.call(f.state,f)),y(f.tag,f,b,p),null!=f.instance?(null==c.instance?g(a,d(f.instance,b,m),h):q(a,c.instance,f.instance,b,h,p,m),f.dom=f.instance.dom,f.domSize=f.instance.domSize):null!=c.instance?(z(a,c.instance,null,!1),f.dom=void 0,f.domSize=0):(f.dom=c.dom,f.domSize=c.domSize)}else z(a,c,null,!1),g(a,d(f,b,void 0),h)}function l(a){var c=a.domSize;if(null!=c||null==a.dom){var f=
x.createDocumentFragment();if(0<c){for(a=a.dom;--c;)f.appendChild(a.nextSibling);f.insertBefore(a,f.firstChild)}return f}return a.dom}function m(a,c,f){for(;c<a.length;c++)if(null!=a[c]&&null!=a[c].dom)return a[c].dom;return f}function g(a,c,f){f&&f.parentNode?a.insertBefore(c,f):a.appendChild(c)}function p(a,c,f,b,g){for(;f<b;f++){var h=c[f];null!=h&&(h.skip?h.skip=void 0:z(a,h,g,!1))}}function z(a,c,f,b){if(!1===b){var g=0,d=0;b=function(){++d===g&&z(a,c,f,!0)};c.attrs&&c.attrs.onbeforeremove&&
(g++,c.attrs.onbeforeremove.call(c.state,c,b));"string"!==typeof c.tag&&c.tag.onbeforeremove&&(g++,c.tag.onbeforeremove.call(c.state,c,b));if(0<g)return}h(c);if(c.dom){b=c.domSize||1;if(1<b)for(var p=c.dom;--b;)a.removeChild(p.nextSibling);null!=c.dom.parentNode&&a.removeChild(c.dom);null==f||null!=c.domSize||v(c.attrs)||"string"!==typeof c.tag||(f.pool?f.pool.push(c):f.pool=[c])}}function h(a){a.attrs&&a.attrs.onremove&&a.attrs.onremove.call(a.state,a);"string"!==typeof a.tag&&a.tag.onremove&&a.tag.onremove.call(a.state,
a);if(null!=a.instance)h(a.instance);else if(a=a.children,a instanceof Array)for(var c=0;c<a.length;c++){var b=a[c];null!=b&&h(b)}}function A(a,c,b,g,h){var d=a.dom;if("key"!==c&&(b!==g||"value"===c||"checked"===c||"selectedIndex"===c||"selected"===c&&a.dom===x.activeElement||"object"===typeof g)&&"undefined"!==typeof g&&"oninit"!==c&&"oncreate"!==c&&"onupdate"!==c&&"onremove"!==c&&"onbeforeremove"!==c&&"onbeforeupdate"!==c){var p=c.indexOf(":");if(-1<p&&"xlink"===c.substr(0,p))d.setAttributeNS("http://www.w3.org/1999/xlink",
c.slice(p+1),g);else if("o"===c[0]&&"n"===c[1]&&"function"===typeof g)B(a,c,g);else if("style"===c)if(a=b,a===g&&(d.cssText="",a=null),null==g)d.cssText="";else if("string"===typeof g)d.cssText=g;else{"string"===typeof a&&(d.cssText="");for(var e in g)d.style[e]=g[e];if(null!=a&&"string"!==typeof a)for(e in a)e in g||(d.style[e]="")}else if(c in d&&"href"!==c&&"list"!==c&&"form"!==c&&void 0===h){if("input"!==a.tag||"value"!==c||a.dom.value!==g||a.dom!==x.activeElement)d[c]=g}else"boolean"===typeof g?
g?d.setAttribute(c,""):d.removeAttribute(c):d.setAttribute("className"===c?"class":c,g)}}function v(a){return null!=a&&(a.oncreate||a.onupdate||a.onbeforeremove||a.onremove)}function B(a,c,g){var b=a.dom,d=function(a){var c=g.call(b,a);"function"===typeof E&&E.call(b,a);return c};if(c in b)b[c]=d;else{var h=c.slice(2);void 0===a.events&&(a.events={});null!=a.events[c]&&b.removeEventListener(h,a.events[c],!1);a.events[c]=d;b.addEventListener(h,a.events[c],!1)}}function n(a,c,b){"function"===typeof a.oninit&&
a.oninit.call(c.state,c);"function"===typeof a.oncreate&&b.push(a.oncreate.bind(c.state,c))}function y(a,c,b,g){g?n(a,c,b):"function"===typeof a.onupdate&&b.push(a.onupdate.bind(c.state,c))}function C(a){if(a instanceof Array){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c}if("object"===typeof a){c={};for(b in a)c[b]=a[b];return c}return a}var x=a.document,D=x.createDocumentFragment(),E;return{render:function(a,c){var b=[],g=x.activeElement;null==a.vnodes&&(a.textContent="");c instanceof Array||
(c=[c]);k(a,a.vnodes,u.normalizeChildren(c),b,null,void 0);a.vnodes=c;for(var d=0;d<b.length;d++)b[d]();x.activeElement!==g&&g.focus()},setEventCallback:function(a){return E=a}}}(window),M=function(a){function b(a,e){if(e instanceof Array)for(var l=0;l<e.length;l++)b(a+"["+l+"]",e[l]);else if("[object Object]"===Object.prototype.toString.call(e))for(l in e)b(a+"["+l+"]",e[l]);else d.push(encodeURIComponent(a)+(null!=e&&""!==e?"="+encodeURIComponent(e):""))}if("[object Object]"!==Object.prototype.toString.call(a))return"";
var d=[],e;for(e in a)b(e,a[e]);return d.join("&")},N=function(a){function b(a,b){if(null==b)return a;for(var d=a.match(/:[^\/]+/gi)||[],h=0;h<d.length;h++){var e=d[h].slice(1);null!=b[e]&&(a=a.replace(d[h],b[e]),delete b[e])}return a}function d(a,b){var d=M(b);if(""!==d){var h=0>a.indexOf("?")?"?":"&";a+=h+d}return a}function e(a){try{return""!==a?JSON.parse(a):null}catch(b){throw Error(a);}}function k(a){return a.responseText}function q(a,b){if("function"===typeof a)if(b instanceof Array)for(var d=
0;d<b.length;d++)b[d]=new a(b[d]);else return new a(b);return b}var l=0,m;return{xhr:function(g){var p=C.stream();void 0!==g.initialValue&&p(g.initialValue);var l="boolean"===typeof g.useBody?g.useBody:"GET"!==g.method&&"TRACE"!==g.method;"function"!==typeof g.serialize&&(g.serialize="undefined"!==typeof FormData&&g.data instanceof FormData?function(a){return a}:JSON.stringify);"function"!==typeof g.deserialize&&(g.deserialize=e);"function"!==typeof g.extract&&(g.extract=k);g.url=b(g.url,g.data);
l?g.data=g.serialize(g.data):g.url=d(g.url,g.data);var h=new a.XMLHttpRequest;h.open(g.method,g.url,"boolean"===typeof g.async?g.async:!0,"string"===typeof g.user?g.user:void 0,"string"===typeof g.password?g.password:void 0);g.serialize===JSON.stringify&&l&&h.setRequestHeader("Content-Type","application/json; charset=utf-8");g.deserialize===e&&h.setRequestHeader("Accept","application/json, text/*");"function"===typeof g.config&&(h=g.config(h,g)||h);h.onreadystatechange=function(){if(4===h.readyState){try{var a=
g.extract!==k?g.extract(h,g):g.deserialize(g.extract(h,g));if(200<=h.status&&300>h.status)p(q(g.type,a));else{var b=Error(h.responseText),d;for(d in a)b[d]=a[d];p.error(b)}}catch(e){p.error(e)}"function"===typeof m&&m()}};l?h.send(g.data):h.send();return p},jsonp:function(g){var e=C.stream();void 0!==g.initialValue&&e(g.initialValue);var k=g.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+l++,h=a.document.createElement("script");a[k]=function(b){h.parentNode.removeChild(h);e(q(g.type,
b));"function"===typeof m&&m();delete a[k]};h.onerror=function(){h.parentNode.removeChild(h);e.error(Error("JSONP request failed"));"function"===typeof m&&m();delete a[k]};null==g.data&&(g.data={});g.url=b(g.url,g.data);g.data[g.callbackKey||"callback"]=k;h.src=d(g.url,g.data);a.document.documentElement.appendChild(h);return e},setCompletionCallback:function(a){m=a}}}(window),H=function(){var a=[];return{subscribe:a.push.bind(a),unsubscribe:function(b){b=a.indexOf(b);-1<b&&a.splice(b,1)},publish:function(){for(var b=
0;b<a.length;b++)a[b].apply(this,arguments)}}}();N.setCompletionCallback(H.publish);var Z=function(a){if(""===a||null==a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");for(var b={},d={},e=0;e<a.length;e++){var k=a[e].split("="),q=decodeURIComponent(k[0]),k=2===k.length?decodeURIComponent(k[1]):"",l=Number(k);""!==k&&!isNaN(l)||"NaN"===k?k=l:"true"===k?k=!0:"false"===k?k=!1:(l=new Date(k),isNaN(l.getTime())||(k=l));var l=q.split(/\]\[?|\[/),m=b;-1<q.indexOf("[")&&l.pop();for(var g=0;g<l.length;g++){var q=
l[g],p=l[g+1],p=""==p||!isNaN(parseInt(p,10)),n=g===l.length-1;""===q&&(q=l.slice(0,g).join(),null==d[q]&&(d[q]=0),q=d[q]++);null==m[q]&&(m[q]=n?k:p?[]:{});m=m[q]}}return b},la=function(a){function b(b){var d=a.location[b].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===b&&"/"!==d[0]&&(d="/"+d);return d}function d(a,b,d){var e=a.indexOf("?"),k=a.indexOf("#"),m=-1<e?e:-1<k?k:a.length;if(-1<e){var e=Z(a.slice(e+1,-1<k?k:a.length)),l;for(l in e)b[l]=e[l]}if(-1<k)for(l in b=Z(a.slice(k+
1)),b)d[l]=b[l];return a.slice(0,m)}function e(){switch(m.charAt(0)){case "#":return b("hash").slice(m.length);case "?":return b("search").slice(m.length)+b("hash");default:return b("pathname").slice(m.length)+b("search")+b("hash")}}function k(b,e,k){var h={},l={};b=d(b,h,l);if(null!=e){for(var n in e)h[n]=e[n];b=b.replace(/:([^\/]+)/g,function(a,b){delete h[b];return e[b]})}(n=M(h))&&(b+="?"+n);(l=M(l))&&(b+="#"+l);q?(k&&k.replace?a.history.replaceState(null,null,m+b):a.history.pushState(null,null,
m+b),a.onpopstate()):a.location.href=m+b}var q="function"===typeof a.history.pushState,l="function"===typeof setImmediate?setImmediate:setTimeout,m="#!";return{setPrefix:function(a){m=a},getPath:e,setPath:k,defineRoutes:function(b,k,n){function h(){var a=e(),h={},m=d(a,h,h);l(function(){for(var d in b){var e=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(e.test(m)){m.replace(e,function(){for(var e=d.match(/:[^\/]+/g)||[],l=[].slice.call(arguments,1,-2),
m=0;m<e.length;m++)h[e[m].replace(/:|\./g,"")]=decodeURIComponent(l[m]);k(b[d],h,a,d)});return}}n(a,h)})}q?a.onpopstate=h:"#"===m.charAt(0)&&(a.onhashchange=h);h();return h},link:function(a){a.dom.setAttribute("href",m+a.attrs.href);a.dom.onclick=function(b){b.preventDefault();b.redraw=!1;k(a.attrs.href,void 0,void 0)}}}},ma=function(a){var b=0,d=null,e="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(k){var n=Date.now();!0===k||0===b||16<=n-b?(b=n,a()):null===
d&&(d=e(function(){d=null;a();b=Date.now()},16-(n-b)))}},aa=function(a,b,d,e){e=ma(e);null!=b&&b.setEventCallback(function(a){!1!==a.redraw&&d.publish()});null!=d&&(a.redraw&&d.unsubscribe(a.redraw),d.subscribe(e));return a.redraw=e};n.route=function(a,b,d){var e=la(a);a=function(a,n,l){var m=null,g=null;l=e.defineRoutes(l,function(d,e,h,l){if("function"!==typeof d.view){"function"!==typeof d.render&&(d.render=function(a){return a});var n=function(l){m=h;g=l;b.render(a,d.render(u(l,null,e,void 0,
void 0,void 0)))};"function"!==typeof d.resolve&&(d.resolve=function(){n(g)});h!==m?d.resolve(n,e,h,l):n(g)}else b.render(a,u(d,null,e,void 0,void 0,void 0))},function(){e.setPath(n,null,{replace:!0})});aa(a,b,d,l)};a.link=e.link;a.prefix=e.setPrefix;a.set=e.setPath;a.get=e.getPath;return a}(window,L,H);var na={view:function(){}};n.mount=function(a,b){return function(d,e){b.unsubscribe(d.redraw);aa(d,a,b,function(){a.render(d,u(null===e?na:e,void 0,void 0,void 0,void 0,void 0))})();null===e&&(b.unsubscribe(d.redraw),
delete d.redraw)}}(L,H);n.trust=function(a){return u("<",void 0,void 0,a,void 0,void 0)};n.withAttr=function(a,b,d){return function(e){return b.call(d||this,a in e.currentTarget?e.currentTarget[a]:e.currentTarget.getAttribute(a))}};n.prop=C.stream;n.prop.combine=C.combine;n.prop.reject=C.reject;n.prop.merge=C.merge;n.prop.HALT=C.HALT;n.render=L.render;n.redraw=H.publish;n.request=N.xhr;n.jsonp=N.jsonp;n.version="1.0.0";"undefined"!==typeof module?module.exports=n:window.m=n};